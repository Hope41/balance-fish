'use strict'

class Map {
    constructor() {
        this.cellSize = 600
        this.levels = {
            reactor: {
                width: 4000,
                scale: 4,
                back: [],
                fore: [],
                both: [],
                text: 'The Reactor',
                advice: 'Use the UP, LEFT and RIGHT keys to move',
                original: [{type:'poly',data:{type:'ground',color:'dark2',stroke:'dark3',pos:'back'},content:[1351.3545338196682,124.12140628493277,1267.2676020112558,124.81990221092167,1160.5472334608187,123.76995217301335,1098.2068705257195,123.798527433313,1098.126642253991,165.32974766571368,1045.380399752406,208.0316105695751,960.511828090512,212.19220928954846,874.3060961755979,212.96455579194162,670.4327753366807,212.69927952496136,672.0563557138183,137.1769888290533,673.3882166598185,0.002429525642213548,801.2976245135062,0.4803006272234427,943.7075174249875,0.002429525633004914,1029.2295360833564,0.002429525633033336,1113.9721377154033,0.002429525633033336,1198.4118638743894,0.002429525633033336,1287.013568810055,0,1355.904508057381,1.042554788003855,1372.1682171117604,18.725053871741807,1371.8943030276866,100.89657177129773,1351.3545338196682,124.12140628493277],x:670.4327753366807,y:0,w:701.7354417750797,h:212.96455579194162},{type:'poly',data:{type:'deco',color:'darkcave'},content:[1416.1142202080987,190.6891766861401,1454.496782274384,195.3477137403462,1494.7160497060886,189.22736905872213,1856.9274987815556,235.8458687676452,1982.5452006867142,454.9310062947076,1962.904300833486,460.29586827393837,1951.101197982223,471.00383338846444,1957.4216603056825,507.5725617032427,1880.742510843226,509.718507476854,1792.6269662150457,488.28499662135073,1700.939169777615,471.61448817818143,1512.8005744904194,425.17521465792436,1410.396022625237,287.04814470023643,1413.9682744344875,198.1999868937795],x:1410.396022625237,y:189.22736905872213,w:572.1491780614772,h:320.49113841813187},{type:'rect',data:{type:'water'},x:1831.197967390049,y:478.72234273930496,w:1200,h:500},{type:'rect',data:{type:'water'},x:625.1382607859036,y:182.71448471236903,w:727.9464819977262,h:282.46260387938423},{type:'poly',data:{type:'ground',stroke:'dim_green'},content:[867.9224560813461,281.8831824609689,840.3191293522495,299.20937538754504,811.0429878228408,305.78157042475925,781.1693740173218,309.3664040814216,750.1008156595819,309.96387635753194,720.2272018540629,305.78157042475925,681.9599886890018,321.40281208561896,671.1748031892978,350.0810279079949,669.6860211069946,381.23183042397847,683.4486101204807,408.02239405698924,708.9887810563587,407.81064959455057,768.695772510159,395.1420466128474,791.6778333027074,374.36943311853054,820.0943349079903,362.79068419708426,843.4980900609083,343.895748557859,872.7229963850127,335.2235052235691,899.6898495818527,321.5651529024082,914.4917679015955,295.00055619373813,942.3926292432973,282.6333739504068,972.7443415418836,280.6892740824801,1003.7412392123822,278.0872964237251,1032.2932791719943,268.0270897265393,1063.5196148857663,266.0743104340093,1092.2247421680402,257.25032134905615,1117.2704028054175,237.98739323444897,1140.956053702908,217.90210984323693,1141.2161054421633,187.60049217842652,1147.2719923588875,181.56343749930863,1359.0085109421725,181.85372049229477,1366.2371147501342,177.39351814270415,1374.2470160874643,177.19933376191187,1380.6137248421915,182.1571097499663,1402.6973244438996,182.21412362815727,1410.8735045478293,184.3372666149304,1434.525030197381,198.99922632080268,1447.5621107039353,218.68942088943072,1473.5480698259657,257.3031039042928,1499.0934049461273,291.37795718322025,1517.8487524035174,313.516248073867,1541.9688861041047,330.23075393671087,1570.4756418848779,336.23958308216453,1598.5812825976568,344.36897414770146,1626.281033311089,350.4966776430744,1655.6399395568635,349.3113851988814,1684.8513631784065,342.4916722096442,1715.0286776332057,344.71328232250477,1735.8508995986456,354.5392553700885,1732.9234130500756,381.73530032169595,1757.582003290517,396.5828941816206,1786.7674154373046,417.91503305249785,1812.6797321725733,440.6692095521953,1840.5896147134256,453.2609226183319,1901.3259860574549,485.26876127602975,1923.8947618280888,558.3725139908568,1925.4834807377229,635.0733674576547,1880.2846960744803,715.5872454949323,1806.8861765414392,809.7548458140504,1743.1850559811533,929.7579203413536,1667.656254726512,1097.960618874762,1543.2252105579958,1215.737138233184,1266.7760966655787,1311.39793143713,831.6204651030058,1310.1129924174584,626.7902185176222,1313.8087435462076,227.1567387239184,1189.6257634159567,0,768.0409749389119,50.5431700697261,359.42356567273845,284.8568439052386,140.07148754951947,579.9244854716184,179.3061867032995,648.6375953021911,166.6173145865335,703.167215079817,172.0112641502741,745.9053988253813,173.60307055685985,764.4846406756761,180.0554784080121,795.6170858240741,188.69397360260226,826.6972821939534,191.12101004879355,861.8849972658332,180.4582346455529,903.840954829973,179.31954964247586,927.3367654946438,177.98308852990937,950.9692359348774,177.5876702107098,973.8137506015009,176.89801744763025,996.609818874776,176.34938485484815,1019.2237099789643,172.1692800841026,1044.5870705484324,168.4183975981386,1069.8120891416042,165.806898793276,1086.474644128167,162.35271928722852,1102.5706460431236,158.3410287597867,1112.4896750457458,160.5294523388988,1116.8947764837367,164.0058674862636,1117.8089233074584,168.5277026775271,1116.8591031268277,172.60595272659583,1114.568022486482,179.91752078937935,1112.5770026801054,185.83755028129877,1107.1146863527354,192.82434254981436,1091.5437490096544,194.8616731983411,1079.4479776218316,200.94380115690976,1066.2002118811308,204.753657203071,1055.1006771276611,223.9169216744184,1035.8699438837632,234.65396202214646,1013.5304257608307,234.63289447725998,991.3745994353831,233.85746867712035,969.8241181227559,239.8464171466714,947.2584542921518,241.16006590577533,925.4671332961136,246.0614971728876,906.7406429570586,260.0700314174179,886.110557202652,269.7214115182785,867.9224560813461,281.8831824609689],x:0,y:140.07148754951947,w:1925.4834807377229,h:1173.737255996688},{type:'poly',data:{type:'ground'},content:[1895.2719415261045,475.72577463478456,1924.3762017867948,484.5118619483996,1962.642626916906,503.5345911378306,2007.5593634732616,512.6284287992802,2037.5266150383584,549.1484494103796,2027.415142592529,583.084264153774,2044.186998114534,613.2632098641834,2073.371977975086,617.8127561264766,2094.216758702918,633.1828116419385,2118.7776788337474,666.7161884428118,2109.35156384146,705.6251384275176,2120.34724721627,730.7848452095745,2150.930744195961,735.4381749720444,2176.815108146757,723.125075350884,2217.546698708074,719.1638020973521,2255.919950734654,733.0509393759983,2294.074929620554,742.4178752867069,2337.9762198750086,744.3409261189256,2381.4701538045265,742.0632046032508,2421.201012499538,739.523595888692,2456.185455713343,751.078452327663,2481.673044612453,795.4311496300829,2481.0651153027184,847.2705839849461,2487.1234634391008,919.1052833163412,2492.614387046012,935.8529721156765,2513.7114760649047,937.8571375574261,2522.323272747143,923.7334586184029,2527.695616113003,846.8092590230629,2536.6826623116026,780.2269825568696,2530.25945174804,749.1457775151468,2543.8246008101414,724.9126859275873,2564.2364662468704,713.2440925715165,2583.0573645181194,688.9888859173348,2571.0015374243912,652.5953332603851,2538.931006537131,629.4174005237,2507.856526688576,603.7858404219724,2501.8486520394863,562.4689551009141,2508.4226807935856,519.3066900436104,2503.5171960686657,483.4540653869921,2492.46984242193,446.5089053984704,2490.155031678063,409.4068725332313,2519.3894263155826,378.9635894875567,2610.818202987498,353.6426566869476,2839.7717898350047,366.78372820769744,3067.771744048212,466.78393838630603,3216.3362829108155,550.1592773587361,3342.440730661954,696.2654130649057,3361.6001666718857,897.7990053410158,3290.3925757639945,1075.9108568039849,3223.41585498748,1271.721312361766,3034.789105894839,1347.6211566450286,2823.40653783825,1342.4981873385393,2581.97247077253,1359.3132966889377,2205.1975620606754,1329.6527229608853,1911.9255654985946,1332.7025938140912,1724.0276508901482,1226.057702901156,1596.6017038056598,1149.6532039221047,1545.4820100751688,1004.9780405037363,1543.3613726393307,764.0663563644403,1584.3544110434514,588.1992825392538,1668.4218686303907,471.3386382656938,1760.1905646754735,446.7443972084469,1850.4020623701265,462.7296390672424,1895.2719415261045,475.72577463478456],x:1543.3613726393307,y:353.6426566869476,w:1818.2387940325552,h:1005.67064000199},{type:'poly',data:{type:'ground',stroke:'dim_green'},content:[1513.7749382505958,183.77655036884215,1551.2650342896134,175.5207339199739,1626.8050911224968,150.09389116319943,1691.4964286884256,167.24349464295872,1777.5197543882286,183.37208693673458,1842.4037472994878,183.26636880175693,1920.1230013622728,157.68250517583076,1980.577926457502,152.63295519240324,2052.9072517351306,192.72156861784117,2073.966433282926,227.9079963803208,2069.8615461363956,266.8604830397338,2060.9204367478933,306.0218684904212,2072.3644568177842,344.24946124169674,2050.1414529089398,377.4854010625429,2018.343411849207,401.08099725320653,2014.4296203962865,441.58814054104346,1985.5909992713616,455.828199807419,1957.2280279882548,452.53928169576983,1918.9086300216243,446.26527983487085,1886.2261230225472,420.7181925425733,1859.1775843457956,380.97238581730534,1830.8977995686043,348.78286051212683,1786.8665868943503,334.9714931043185,1749.3085784323503,324.02341858807745,1721.1838314672423,304.4420056530349,1688.753344312449,300.4713050197623,1653.2151940419658,302.82911232188616,1609.9915466991904,279.9287118150222,1574.9584354690392,269.5672922816135,1538.6250703180226,271.8887383016813,1499.7189543909521,244.60244465520285,1482.3681870836017,217.61315547233954,1480.1532182252731,196.3402954465276,1493.1970423357259,187.64441270622572,1513.7749382505958,183.77655036884215,1513.7749382505958,183.77655036884215,1513.7749382505958,183.77655036884215],x:1480.1532182252731,y:150.09389116319943,w:593.8132150576533,h:305.7343086442196},{type:'poly',data:{type:'ground'},content:[2171.408726305838,454.125299705561,2199.2787700075587,447.5918291628782,2236.199722788835,433.40200423321346,2277.0697254279426,439.57018481339264,2318.408752797754,456.3175484827427,2348.8541385783833,473.6336922680715,2357.520738724067,484.7292701460425,2370.7446687223073,517.8358831463754,2391.791681378636,551.7906941080903,2428.4148590235145,570.122141958157,2438.437565807491,592.9040683132489,2436.266969268825,617.7529750018796,2417.4491284344813,633.9817869559952,2376.951728270228,625.1702416729611,2335.2527615254216,615.1599754347076,2295.2849331669386,614.1721565036396,2252.5858245827876,616.9809788011751,2209.348107061469,617.7224367515882,2157.9089990746916,616.5745616409113,2117.382435003665,620.2828136186457,2095.0444397492306,634.9525418454382,2073.5712008052424,618.877595698093,2043.793600354806,614.2258795731614,2026.8416491092967,583.3204070381933,2037.0874757586869,549.344804512172,2080.454257379458,517.5069036736611,2095.5600942476513,491.60752150451316,2134.315834859487,472.6699422462899,2171.408726305838,454.125299705561],x:2026.8416491092967,y:433.40200423321346,w:411.5959166981943,h:201.5505376122247},{type:'point',data:{type:'start'},x:746.4643572506035,y:358.0578680192597,w:0,h:0},{type:'poly',data:{type:'deco',color:'dark1',stroke:'dark4'},content:[788.1221340602236,0.7649145755346467,887.1615455778797,0.7649145755346467,988.0322914647932,1.5932320715986066,1087.7296650988653,2.1218549507700004,1188.2451653949834,1.3102702567492486,1364.8062324196962,2.234626789927745,1370.0107548021283,7.218055743966545,1369.4700311622241,110.07190253152127,1359.2637521654833,122.8566427514379,1359.2865985305643,183.1404930589237,1143.4273790037375,183.16288449318822,861.9787021172998,182.22022833680444,827.3731066210097,192.69090539144165,788.3035464345122,188.7045848289178,788.2232690550253,33.03507896550326,788.1221340602236,0.7649145755346467],x:788.1221340602236,y:0.7649145755346467,w:581.8886207419047,h:191.925990815907},{type:'point',data:{type:'cable',l:1000,state:'reactor',volt:230},x:1221.2060055958268,y:123.6121900296375,w:0,h:0},{type:'point',data:{type:'deco',form:'nuclear'},x:1262.299432518914,y:153.85260157055808,w:0,h:0},{type:'rect',data:{type:'barrier',status:1,open_when_near:true,evil:true},x:1339.056257053502,y:124.42665097802215,w:8.106741958010957,h:57.5},{type:'rect',data:{type:'barrier',status:777},x:2455.411797129499,y:753.7316463638169,w:80,h:12.922525250802664},{type:'point',data:{type:'goal',time:0,height:235},x:2496.7844607382403,y:689.8364818902785,w:0,h:0},{type:'point',data:{type:'power',require:230},x:2130.9683591375488,y:733.5286180434321,w:0,h:0},{type:'point',data:{type:'text',text:'Balance the System'},x:2230.5816129268833,y:392.38235669397363,w:0,h:0},{type:'point',data:{type:'text',text:'Save the City'},x:2335.8379774141267,y:422.8943986195274,w:0,h:0},{type:'point',data:{type:'text',text:'UP key to move'},x:771.8686728018415,y:327.66180903934594,w:0,h:0},{type:'point',data:{type:'text',text:'LEFT or RIGHT to rotate',place:'fore'},x:1230.2426324664602,y:201.37240901077155,w:0,h:0},{type:'point',data:{type:'text',text:'A demo for'},x:1584.3138212794133,y:305.2285350285602,w:0,h:0},{type:'point',data:{type:'text',text:'Gamedev.js 2025'},x:1661.1979184365837,y:326.19692516233397,w:0,h:0},{type:'point',data:{type:'text',text:'The Substations are out of balance'},x:2338.651077999578,y:679.2070016662896,w:0,h:0}]
            },
            level2: {
                width: 4000,
                scale: 1.3,
                back: [],
                fore: [],
                both: [],
                text: 'Balance the Voltage',
                advice: 'Transformers can change voltage',
                original: [{type:'rect',data:{type:'water'},x:858.1372501003116,y:618.2199172042017,w:1724.0092650155339,h:1783.4578603608973},{type:'poly',data:{type:'ground'},content:[1904.7894345944028,710.8872756924312,1869.1629577761964,953.6472671978553,1795.7633695294453,990.4383212716572,1655.3584898080774,981.6150567284092,1401.2499545110752,780.4457994670026,1332.4288927896703,341.04979059996515,1571.2698432468576,25.455134262984643,2014.9286794690902,0,2400.787579956361,25.55011383940746,2851.6292400123534,178.13624837372697,3171.896129446174,488.19122883925405,3501.793104504077,1215.4640574690145,3505.541933137363,1983.9739272926038,3138.2105092141355,2400.1091006068764,2572.8133471131932,2404.2317235751025,2139.2841372169014,2413.4469001502457,2079.3993518725247,2407.9982426227407,2064.3332756819736,2340.200899765243,2061.4946825807906,2152.471005057753,2061.4946825866828,2095.911748737316,2061.494682601078,2041.811590502078,2061.494682642017,1987.7114322224281,2061.494682724329,1932.6891120983523,2061.494683080426,1879.5111151545273,2059.035585652666,1825.4109561077873,2048.0333329732057,1767.5254055013204,2008.533838562662,1731.6167742190078,1954.6708916391929,1713.6624585778513,1904.398807843955,1702.8898691931574,1852.3312924846016,1688.5264166802324,1794.8774824329012,1675.958395731423,1737.423672381201,1658.0040800902666,1690.4058082959227,1630.6237487375033,1649.4475257395347,1591.5731122179882,1629.5855640615055,1542.7598165685943,1620.7206207136846,1491.0289446275126,1611.7434628931064,1437.1659977040435,1613.5388944572237,1381.5076192164577,1657.7246835958877,1355.6443183624817,1713.3830620834724,1355.6443183624817,1767.2460090069414,1355.6443183624817,1817.5180928021791,1355.6443183624817,1862.4038819050702,1378.984928695985,1885.7444922385735,1423.8707177988758,1913.2630662265542,1458.5337247939992,1966.5389126237803,1470.55193846588,2016.8109964190226,1470.551938465876,2081.446532727187,1470.5519384658733,2131.718616522426,1470.5519384658696,2181.9907003176654,1459.7793490811696,2226.8764894205706,1427.4615809270517,2259.194257574723,1387.9620865163256,2277.1485732164474,1341.2808658479235,2278.9440047827256,1289.213350484672,2278.944004787195,1238.9412666845865,2271.7622785415642,1186.8737513209726,2230.6188880786176,1144.949558555578,2184.129129016668,1118.672738216215,2153.135956308701,1074.8780376506102,2153.135956308701,1023.6719262200567,2156.402388417874,766.6805919115634,2150.258902020588,715.3074688586619,2137.2910970460016,665.9300578908817,2093.4000648483234,638.4981630735415,2040.5313215680146,630.5179759101111,1990.156386796939,630.517979354709,1941.7765276001342,651.9648061530304,1904.8142129699083,710.8732860454247],x:1332.4288927896703,y:0,w:2173.1130403476927,h:2413.4469001502457},{type:'poly',data:{type:'ground'},content:[1885.8832682496914,951.0845248927483,1881.1158112865182,1036.898750232522,1900.1856391397691,1120.3292470904933,1907.0724421838422,1168.7116943750716,1893.3515344689986,1215.8095744255866,1840.592427098361,1239.5156711733093,1754.7782017587335,1239.5156711733093,1668.963976419106,1239.5156711733093,1585.5334795611348,1229.9807572466839,1499.7192542215073,1239.5156711733093,1438.5698944015487,1260.4674753254044,1378.9766823601385,1279.5373031786562,1326.5346557636994,1312.9095019218448,1281.2438146122292,1355.8166145916584,1252.6390728323536,1413.0260981514102,1226.7160255943409,1474.4071065540602,1189.1125650609486,1513.2962010060014,1139.0542669461659,1549.0521282308466,1103.2983397213209,1596.726697863973,1074.693597941445,1658.703638387037,1072.3098694597886,1727.8317643550702,1084.2285118680704,1787.4249763964783,1125.2188208996474,1835.6787641135868,1182.4283044593988,1854.7485920043825,1250.8999739510384,1852.513846554323,1315.9170994321528,1840.446221116534,1380.2777684368737,1838.0624926352432,1444.638437441594,1838.0624926354133,1506.6153779646586,1840.4462211171806,1567.6984203071017,1842.8299495988965,1629.1391656570574,1802.4510248459494,1690.050234909459,1784.6530740838173,1751.3052503419437,1792.6181448591171,1782.293720603476,1852.211356900525,1801.3635484567264,1909.4208404602768,1831.7560865978446,1960.6710028158877,1858.5730320164782,2014.3048936531547,1877.6428598697287,2071.5143772129068,1877.6428598697287,2131.1075892543145,1877.6428598697287,2195.468258259035,1875.2591313880723,2255.061470300443,1872.8754029064162,2314.3567162816444,1872.8754029064162,2376.6316228649157,1849.038118089853,2431.457377943011,1789.4449060484449,2438.6085633879798,1729.851694007037,2438.6085633879798,1668.321702574283,2436.2248349063234,1383.9135130234556,2445.49143332911,1097.8660951514264,2455.0263472923716,821.3535912792934,2428.8053339941525,609.201756411881,2245.2582409066154,547.2248158888167,1949.675909181232,542.479521547676,1676.7505908142741,558.8490800109639,1355.1106349054135,619.4424101429909,971.5717692071008,811.7887110425089,547.471396273562,1193.2366749456698,266.613901907268,1504.856343124498,203.81272164278266,1671.879891642202,408.4553006391493,1772.1088853581493,634.4540375146319,1801.6227584100013,730.2446781215199,1830.359950592068,829.1420422075503,1859.4745908571695,885.2581944605413,1885.8832682496914,951.0845248927483],x:542.479521547676,y:203.81272164278266,w:1364.5929206361661,h:2251.213625649589},{type:'point',data:{type:'cable',state:'reactor',volt:230},x:2025.0199338917942,y:628.8977699212459,w:0,h:0},{type:'point',data:{type:'power',require:200},x:2174.2297772634856,y:1454.3444975974003,w:0,h:0},{type:'point',data:{type:'resistor',add:-30,plugs:1},x:1431.085268623475,y:1841.094442143715,w:0,h:0},{type:'point',data:{type:'goal',time:0,height:1000},x:1913.2767703349573,y:1764.3615578547126,w:0,h:0},{type:'rect',data:{type:'barrier'},x:1770.942771316515,y:1839.3829522264334,w:310.09079767454114,h:68.12600857996699},{type:'point',data:{type:'start'},x:1959.6567432687877,y:770.7634223239907,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:2013.4314242124278,y:1015.1339628166613,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:1991.2219100565258,y:1374.1877750037297,w:0,h:0}]
            },
            level3: {
                width: 4000,
                scale: 2.5,
                back: [],
                fore: [],
                both: [],
                text: 'Press X to Detach',
                advice: 'Press X to Detach the Cable',
                original: [{type:'rect',data:{type:'water'},x:1506.8200032484056,y:828.692309544552,w:966.2019761446982,h:1064.4210895589345},{type:'poly',data:{type:'ground'},content:[1921.0342535327075,962.2665741591977,1917.8445713308718,994.2447864938458,1911.772360279097,1021.0637186391835,1907.724219577914,1048.8946859598168,1891.278647979358,1077.4846796619222,1866.9898037722596,1095.5748084203337,1838.9058276578023,1107.592726126971,1810.442338352609,1117.7130778799285,1784.2559281918313,1125.8093592822947,1755.5394300928142,1135.9297110352522,1725.5578880246774,1139.9778517364352,1697.2209031163961,1139.9778517364352,1668.8839182081147,1139.9778517364352,1640.5469332998334,1150.098203489393,1628.4025111962844,1174.3870476964912,1628.4025111962844,1202.7240326047724,1628.4025111962844,1233.3380966574691,1632.4506518974674,1263.446143122518,1650.6672850527912,1292.0039887510236,1732.298883690315,1291.7831280307992,1742.1915584822957,1295.961150851368,1751.5920833607715,1314.3480214403307,1756.0499078456571,1344.6456438614339,1755.8555099917915,1369.365443326612,1764.015224685916,1392.986645560375,1788.304068893014,1409.1792084042622,1814.616983450702,1415.251419572089,1841.18290680221,1425.8777894359562,1861.1706015142927,1445.612476264155,1875.3390939684048,1470.15433247081,1883.4353753705577,1496.2142627592746,1893.2985265573693,1529.3832140014174,1893.2985265575167,1564.6344686277841,1893.2985265576965,1602.8233278063276,1893.2985265580014,1635.1369778803278,1893.2985265585005,1664.5130234019234,1893.2985265598545,1694.2562694916912,1893.298526562651,1723.2651144419665,1893.2985265684588,1752.6411599582611,1902.1113402395717,1779.0796009136889,1922.6745721320394,1805.5180418566495,1952.0506176993451,1805.5180418115806,1981.4266633269083,1805.5180417064767,2010.802709068135,1805.5180414881956,2028.42833716266,1784.9548088441284,2046.0539657730938,1758.5163665811997,2046.0539781664831,1729.1403087002873,2047.4834569895793,1683.3441310784915,2047.4834569895793,1648.7691504197476,2045.8370293391629,1620.7798803626692,2044.1906016887465,1592.7906103055907,2044.1906016887465,1564.8013402485124,2044.1906016887465,1536.812070191434,2044.1906016887465,1508.8228001343557,2044.1906016887465,1480.8335300772774,2056.4708806420113,1460.56289872239,2078.76558234749,1447.9049770689498,2108.401280054985,1447.9049770689498,2138.0369777624796,1447.9049770689498,2166.026247819558,1447.9049770689498,2195.661945527053,1447.9049770689498,2225.2976432345476,1446.2585494185334,2251.6404856412096,1439.672838816868,2277.9833280478715,1423.2085623127043,2304.3261704545334,1410.0371411093734,2317.4975916578646,1385.3407263531276,2317.4975916578646,1357.3514562960493,2317.4975916578646,1329.25928451082,2317.4975916578646,1301.0642109974394,2317.4975916578646,1271.4285132899447,2315.7482622792973,1239.9405844757316,2300.4835005886907,1214.221699169872,2276.5882478345075,1201.4206709087005,2251.8395931962377,1189.473044531599,2222.823929137552,1180.0856238067051,2195.5150688469676,1176.6720162702927,2168.206208556202,1176.6720162699507,2140.8973482651068,1177.5254181530447,2113.588487970949,1179.2322219136627,2086.119614820136,1179.2322218871232,2067.504785815307,1159.6039767848965,2067.504784410663,1132.2951122339548,2068.3581832980317,1104.9862469939462,2068.358171050931,1077.6773747918899,2068.3580148048654,1050.368467761262,2070.1171358423267,1022.8469417709672,2071.7691836795734,994.0476102733807,2069.334653178765,963.5327983122028,2060.683077471712,935.8477560496311,2037.0354372057652,922.5820066321489,2008.77362322939,918.5446046355239,1978.7814941116042,919.698148063131,1952.2499952766398,928.9264954839882,1930.332670152104,945.7249716485173,1913.9410488933563,975.5522591327092,1833.1488551255463,1034.988774824124,1731.8673513520446,1036.0348022501726,1633.923366992394,1020.4054430438454,1538.063297193587,1046.4543750543908,1444.8710382472536,971.5262393511273,1435.039264234064,869.2757897630124,1446.8373930310404,770.9580497753145,1490.0971986249965,676.5730193872429,1568.7513906146446,597.9188273971439,1672.9681950011918,527.1300546060943,1773.2522897883211,479.9375394120609,1907.5942641930021,460.78094226131407,2022.979349356384,456.34128181496794,2131.1288633425775,470.1057654131814,2229.4466033300328,497.634732609647,2327.7643433174917,529.0964094056172,2422.1493737054543,578.2552793993342,2504.736275294923,637.2459233918009,2589.7811203840797,725.7318893805065,2672.4909191485335,824.2954237179296,2746.597915664084,932.1991433541633,2803.622204856813,1026.5841737421226,2840.9829460520486,1120.9692041300827,2847.1278048012673,1262.5467497120233,2835.083881652804,1396.2588760949673,2789.607486420919,1681.8524945988995,2723.010575025568,1798.3972969822562,2643.4063754614367,1888.5807137222646,2562.067877265009,1962.8086017114283,2476.393637226308,2034.6084740084002,2390.025678148817,2084.209352581575,2294.1190885771125,2111.6112367681435,2190.2347354499266,2131.382216056692,2080.97406346191,2150.6329062921727,1969.6322357434733,2150.8063363269393,1852.0469410178043,2140.7474175851808,1750.5906026266402,2115.2532609535187,1655.5511608254237,2077.965888901438,1545.4233405166005,2021.2543972919602,1452.118195135022,1948.240519635917,1380.1665739590117,1879.096290772381,1291.175490840742,1770.648570129035,1224.5785097512844,1665.203350099379,1189.372293185478,1553.3412334492004,1169.0810255072424,1444.08056137072,1160.7564028691265,1343.3179415631598,1166.306151290118,1243.4224699458498,1221.80363552153,1137.9772499046978,1302.274987658025,1065.8305204027401,1378.2371692008576,986.7466053716878,1443.0134138831168,906.5109634147742],x:1160.7564028691265,y:456.34128181496794,w:1686.3714019321408,h:1694.4650545119714},{type:'point',data:{type:'ugly_fish'},x:2197.6812749014657,y:1298.304806610875,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:2134.7240123893775,y:1222.756091596369,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:1699.619375916946,y:1197.5731865915338,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:2013.0066381993404,y:1456.3974880301187,w:0,h:0},{type:'point',data:{type:'resistor',plugs:2},x:1661.8478556810821,y:1291.5506805518394,w:0,h:0},{type:'point',data:{type:'cable',state:'reactor',volt:200},x:2000.5835737110676,y:918.1107417288637,w:0,h:0},{type:'point',data:{type:'start'},x:1977.987729434312,y:996.7049826921889,w:0,h:0},{type:'rect',data:{type:'barrier'},x:1872.3981354169994,y:1492.3000637477687,w:191.81484966845323,h:41.82429061038988},{type:'point',data:{type:'goal',time:0,height:400},x:1960.3733672196374,y:1424.5158688337858,w:0,h:0},{type:'poly',data:{type:'ground'},content:[1803.3548031819453,1315.520874677948,1793.3692540532368,1285.7722595653368,1798.3620286175908,1252.2790635294596,1816.6688686868902,1223.9866743314515,1866.5966143304338,1204.015576074034,1921.517134538332,1200.6870596977976,1953.1380401125762,1209.0083506383883,1973.1091383699936,1228.9794488958057,1999.7372693798836,1243.957772588869,2029.6939167660098,1242.2935144007506,2059.6505641521335,1243.957772588869,2086.2786951620246,1247.286288965105,2106.2497934194425,1270.5859035987587,2122.892375300624,1295.5497764205306,2129.549408053096,1323.8421656185387,2131.213666241215,1353.7988130046651,2119.563858924387,1375.4341694502004,2089.6072115382613,1382.091202202673,2057.9863059640156,1375.4341694502004,2028.029658577891,1367.1128785096098,1996.4087530036475,1367.1128785096098,1966.4521056175213,1367.1128785096098,1936.495458231395,1367.1128785096098,1906.5388108452687,1365.4486203214917,1876.5821634591427,1355.463071192783,1846.6255160730163,1347.1417802521923,1816.6688686868902,1335.4919729353655,1803.3548031819453,1315.520874677948],x:1793.3692540532368,y:1200.6870596977976,w:337.84441218797815,h:181.40414250487538},{type:'point',data:{type:'power',require:200},x:1999.5995542197177,y:1243.3863124713826,w:0,h:0},{type:'point',data:{type:'power',require:200},x:2225.668715951837,y:1437.0429507080382,w:0,h:0}]
            },
            level4: {
                width: 4000,
                scale: 2.25,
                back: [],
                fore: [],
                both: [],
                text: 'Balance the Length',
                advice: 'Transformers can increase length',
                original: [{type:'rect',data:{type:'water'},x:1390.2059748898562,y:942.3406000640599,w:1400,h:1303.8440908686566},{type:'point',data:{type:'cable',state:'reactor',l:25,volt:400},x:1965.5407051913226,y:979.3518656344426,w:0,h:0},{type:'point',data:{type:'power',require:400},x:1903.160192584269,y:1275.3919850504699,w:0,h:0},{type:'rect',data:{type:'barrier'},x:1697.9735448383844,y:1369.7084527025586,w:150,h:27.08250492030197},{type:'point',data:{type:'goal',time:0,height:700},x:1771.4211387066468,y:1296.4031513890511,w:0,h:0},{type:'poly',data:{type:'ground'},content:[1904.0003493988427,1024.2581386108532,1904.0003493988427,1054.3082834756822,1904.0003493988427,1083.857592592764,1904.0003493988427,1112.9060659620986,1902.9986779033484,1141.9545393314334,1915.6346649345296,1163.0781000574345,1927.8608592020728,1171.159271894528,1953.4754286816242,1174.6075134084233,1986.0868235084479,1176.2559175075157,2016.5822993413472,1179.552725705667,2050.4487421923195,1186.1092712446084,2079.8164142940414,1199.529513317983,2107.6445238480533,1226.932241586869,2126.601170987423,1258.8302621042137,2131.54638328465,1289.9438894742661,2131.54638328465,1320.64541581955,2126.9578581421456,1350.3166896029113,2101.050907451751,1365.152326494592,2068.082825470238,1365.152326494592,2037.5873496373388,1365.152326494592,2017.182807273089,1343.3229900510426,2014.9669648294332,1312.9805029929619,2025.0320687404176,1289.075881204483,2031.6280687376795,1266.4981880160137,2026.1045138055451,1229.7657829415346,2004.3185733628393,1212.3900240639716,1972.531380585587,1210.8091358021647,1943.9203833407664,1212.320341954266,1918.134045316091,1208.3365296535512,1888.4627715327297,1201.7429132572488,1777.1232354634276,1213.082035908705,1744.3450510769296,1230.4099574729596,1721.9695101649386,1259.8374058560855,1710.8058190935244,1284.364374141916,1703.4279756479968,1313.3040348427214,1701.452975455652,1347.0458662919862,1713.1924678089495,1380.3077612931725,1726.8885422211508,1408.6782011471362,1740.304789711918,1434.7428268898277,1740.9338486863503,1464.883297519763,1730.9851359069091,1493.606091141004,1720.1627913936477,1523.810826675179,1719.0622139855177,1555.4218555641826,1711.2358857499426,1584.7705864475888,1710.5510820293298,1620.5894014847008,1721.3122833532454,1649.938342414606,1726.552970553468,1682.7722843513254,1721.3122833532454,1712.5490315138156,1720.7507480081656,1756.4957346227047,1720.1714522915304,1834.1714703961056,1686.202744106725,1880.3704379381654,1651.2646873470103,1897.839466318023,1616.3266305872953,1909.4854852379278,1595.9460974774615,1944.0596039063958,1595.9460974774615,1985.1846082173101,1595.9460974774615,2022.852200661378,1595.9460974774615,2060.701762151069,1575.9295024588748,2095.457849865161,1546.4505170678653,2119.1138257962175,1511.5124603081504,2130.7598447161226,1456.1938704386016,2116.2023210662414,1397.361117475019,2063.774166644242,1377.4807443408156,1976.437685337023,1360.5286304432723,1810.5072795224837,1312.0337702392485,1652.3435771110414,1244.126056448494,1584.4364293597453,1142.2647010326918,1434.8282399658742,1084.5430300038222,1319.5979949106984,1048.8912954455602,1227.4986082425032,1023.425629520123,1112.4804136842451,1020.0298901295919,1047.9682756822178,1020.0295564383894,1000.4329640502127,1045.4945603536164,930.4033092060539,1087.9364504642474,864.6178402227496,1177.0647795538705,775.4891724033045,1301.8445784754235,674.4766653263742,1488.590025421001,572.6152917750911,1865.4765488762378,436.8001489863292,2123.3128385577274,354.03773224284737,2374.782867862288,307.7755905342142,2605.6684879346085,287.4031968794611,2697.3437096890143,287.4030726422841,2935.0202258875593,382.47342522128133,3114.9753658805657,525.0791394925883,3308.5120395944436,796.7092876858446,3457.9088080618385,1176.9916211442219,3464.6996693761866,1360.3420551012985,3420.5598293807525,1435.0403877652245,3220.2325247654953,1618.3908639645601,2869.6596529153803,1828.904390412441,2748.274852708951,1876.439709105469,2605.0322913725627,1905.0882299825246,2547.9474804598076,1910.3935173091106,2507.2029314123547,1910.393523536201,2456.2722417883815,1910.393528825021,2413.0820757319298,1863.907177732006,2405.6337090338834,1819.2169775437849,2403.150920134538,1784.4579329529508,2403.1509201345375,1747.2160994627716,2403.150920134537,1712.457054871938,2398.185342335846,1672.7324324824137,2385.77139783912,1640.4561767909254,2356.4434539656036,1618.266251003027,2328.6672531541785,1600.7315544014014,2298.8737863620354,1585.8348210053298,2266.5975306705473,1583.3520321059846,2244.6561239282414,1573.2787672637883,2236.804063878404,1543.6274097164603,2236.804063878404,1508.8683651256267,2236.804063878404,1474.1093205347931,2236.804063878404,1436.8674870446143,2236.8040410454882,1410.2694689686768,2221.5650722485866,1367.9085267034372,2201.2902843952006,1341.4658877369739,2193.470928361924,1306.8373110181767,2202.2623175433423,1279.23505052014,2219.900702555474,1255.6588790763753,2244.3437038694597,1239.2600443730187,2272.591694076765,1227.5086826584081,2307.2202707955626,1224.157530072718,2344.082949238153,1224.157530072718,2377.5944750950534,1224.157530072718,2408.383189476081,1224.157530072718,2440.149323361268,1224.157530072718,2471.3486661240686,1235.5580149444802,2487.065459560929,1254.3179033439285,2490.0609403617323,1277.9915438083856,2505.699652428286,1303.6837136320094,2534.7429748376,1314.8542222509761,2570.488602418294,1315.9712731128732,2602.8830774132975,1315.9712731128732,2633.043450684508,1308.1519170795962,2658.155650716221,1291.3018051063107,2679.0869520164415,1275.3969744362591,2686.421321479438,1248.2207527531648,2686.421321479438,1216.8732789099274,2686.421321479438,1184.2196603232217,2671.4939529826584,1158.6565417724867,2634.5161733312916,1148.1980714637436,2582.5733082530955,1145.265812951265,2463.9089845650483,1169.6373864032703,2414.375235870607,1173.5676575630334,2365.377380003352,1172.679124093692,2325.5396207349377,1171.0080513727712,2280.290517851008,1170.8582380605158,2245.7833135793476,1177.424160479674,2211.2482979151237,1192.899807009637,2187.7207714628744,1211.235446002976,2173.5358189307162,1219.7748938646967,2160.1563865764583,1219.509239259728,2148.157386619907,1201.801200121894,2135.6637077750484,1184.3813056026127,2120.3230525845356,1167.2402445218625,2100.161278088314,1151.3709918463321,2080.181034826246,1141.9519634964745,2054.0844843852246,1134.6227621889316,2024.133558150621,1130.2243744202133,2009.259320087736,1119.7068224582895,2003.8171955998748,1106.6964906415144,2003.3824363596636,1035.2909953575033,2002.8551407452587,1001.0487479490661,1995.9173040634817,986.9375159768197,1975.4561648122465,979.438452262669,1922.6382294476084,979.438452262669,1909.0866675162827,984.5907420160846,1903.8939798174156,997.9597849268189,1904.0003493988427,1024.2581386108532],x:1020.0295564383894,y:287.4030726422841,w:2444.670112937797,h:1843.3567720738386},{type:'poly',data:{type:'ground'},content:[1830.402492178183,1537.3568816802479,1817.0533669339154,1523.9046689372942,1813.4147340043316,1502.6311645723938,1819.5460657852163,1482.7751378908529,1826.868368660913,1453.3301327098604,1843.2267048725753,1427.935763162232,1848.6359000284006,1391.7916298183684,1841.577285160426,1346.9476926924065,1842.6565048414031,1305.1077374006118,1847.7729130505747,1290.8893531988801,1876.4779814004428,1277.6880619434203,1918.5502516210088,1277.6880500363015,1945.789580837131,1287.7243506947902,1959.8355763456805,1307.6004362519127,1961.2557279830592,1344.2430951144936,1961.6521258025032,1377.6874333882533,1964.7188704266657,1409.240521777475,1962.8984752281538,1439.1529079930863,1951.6813303972995,1466.5725953573967,1940.4641855664452,1495.2386321473575,1919.8502911032488,1514.507919304976,1895.595617147124,1521.4119583116417,1856.80509850334,1535.470981228451,1843.7938746987045,1540.5841249371279,1830.402492178183,1537.3568816802479],x:1813.4147340043316,y:1277.6880500363015,w:151.30413642233407,h:262.8960749008263},{type:'poly',data:{type:'ground'},content:[1887.260560283257,1571.2306236295062,1886.9432880534428,1547.9879611414403,1927.4901655113924,1529.2913167487054,1957.612372762377,1530.3300117862432,1968.9081827479442,1560.322325436566,1986.6958322545486,1586.4195332094996,1993.96669627568,1616.5416834290331,1993.9666962939416,1646.663833736425,1993.966696297339,1676.7859840621777,1991.8893066202681,1710.0242189087649,1966.9606304839203,1730.7981156883825,1934.7610904740989,1741.18506407859,1886.944405726718,1742.2237589175922,1857.860950233965,1730.7981156882795,1843.3192224875922,1697.5598808394006,1855.7835605559205,1664.321645990529,1871.36398314133,1635.238190497767,1877.5961521754937,1603.0386504879245,1887.260560283257,1571.2306236295062],x:1843.3192224875922,y:1529.2913167487054,w:150.64747380974677,h:212.93244216888684},{type:'poly',data:{type:'ground'},content:[1788.5075213550883,1578.4409050675563,1803.0165729549667,1577.37211781172,1812.3975026527128,1588.8278534578278,1817.5907436330428,1603.9858207890763,1812.3975026527128,1621.0273934676698,1804.9175517390636,1635.0351409293257,1786.4301316770338,1636.6078160530772,1779.571167951105,1624.2629278194433,1777.0818781257894,1607.5243605603166,1778.3038487617073,1588.7779905163013,1788.5075213550883,1578.4409050675563],x:1777.0818781257894,y:1577.37211781172,w:40.508865507253404,h:59.23569824135711},{type:'poly',data:{type:'ground'},content:[2253.3761052377336,1922.5764122998569,2268.4420326204586,1937.642339682581,2273.4640084147,1962.7522186537876,2289.785429745984,1990.373085522115,2292.0434985816914,2011.3044280357667,2283.5079600031827,2029.2933979274856,2253.3761052377336,2039.3373495159676,2227.010732317967,2035.570867670287,2204.4118412438806,2021.760434236123,2195.6233836039587,1995.395061316356,2196.8788775525186,1967.7741944480288,2205.6673351924414,1945.1753033739428,2227.010732317967,1928.8538820426586,2253.3761052377336,1922.5764122998569],x:2195.6233836039587,y:1922.5764122998569,w:96.42011497773274,h:116.76093721611073},{type:'poly',data:{type:'ground'},content:[2585.311209299568,1190.3311021978614,2599.1216427337313,1170.243199020896,2624.780800307434,1166.633653918785,2646.7519444072395,1176.4422003919128,2656.874364367507,1199.0410914659988,2645.5749188304644,1221.7184509118706,2620.4650398592576,1229.251414603233,2595.3551608880507,1229.251414603233,2582.8002214024473,1207.908017477706,2585.311209299568,1190.3311021978614],x:2582.8002214024473,y:1166.633653918785,w:74.07414296505976,h:62.61776068444783},{type:'poly',data:{type:'ground'},content:[2089.337937919927,1618.3398775676997,2102.4251635673936,1620.9399377158359,2113.192322944845,1628.3838291652648,2135.79121401893,1650.9827202393508,2141.2086773298597,1663.9653982960713,2140.8131898131714,1676.0925992105574,2126.061135917588,1703.0857191046046,2111.936828996284,1722.5458753072896,2100.0011939572396,1728.806585367694,2088.082443973638,1728.8233450500913,2075.15550545316,1724.5646385499242,2067.9945407966725,1713.7574176673675,2052.9286134139484,1692.4140205418419,2046.6738625338494,1677.9032235544576,2047.906637619708,1663.5376597249542,2055.7637485719274,1652.4515426478392,2067.9945407966725,1648.4717323422303,2075.15550545316,1641.5436794021457,2074.5495130506215,1631.8478009615294,2078.818521361627,1622.3239051398796,2089.337937922198,1618.3398775767823],x:2046.6738625338494,y:1618.3398775676997,w:94.53481479601032,h:110.48346748239169},{type:'poly',data:{type:'ground'},content:[2325.1418011143596,1934.6362310777329,2330.092358492584,1918.3884615623795,2344.2778757450305,1908.6658440789654,2354.9380469966636,1900.8146818887622,2369.7971480098017,1896.956555947299,2381.601712708359,1899.6026970836851,2390.751199848088,1908.6658440789654,2413.9878618996177,1927.801918709636,2445.4256987928616,1927.801918709636,2472.7629482652487,1931.9025061304942,2481.590459127216,1940.810180456305,2480.964123106965,1956.5060306556425,2464.5617734235325,1977.0089677599324,2439.9582488983856,1989.3107300225074,2415.354724373237,1997.511904864223,2388.0174749008497,2002.9793547587003,2369.7701114665406,2000.245629811462,2354.9380469966636,1993.5315194771574,2344.448733554233,1982.5618465590117,2330.609251008837,1961.97348055012,2325.1418011143596,1934.6362310777329],x:2325.1418011143596,y:1896.956555947299,w:156.4486580128564,h:106.02279881140134},{type:'poly',data:{type:'ground'},content:[2137.8455459960514,1725.7940512684747,2139.2190282261495,1718.4021677617063,2146.0467208377677,1713.4922890059006,2158.610785107382,1710.5242665287055,2172.4442523595417,1713.4922890059006,2199.448257249619,1721.8758042381294,2203.4542227519905,1734.1579700517395,2197.987494835303,1747.6638508463843,2172.0171078365356,1759.9656131089585,2161.0347547175365,1759.0036587317877,2150.147308258626,1749.0307133200038,2137.8455459960514,1725.7940512684747],x:2137.8455459960514,y:1710.5242665287055,w:65.60867675593909,h:49.44134658025291},{type:'poly',data:{type:'ground'},content:[2198.0158927093375,1852.381075290358,2198.265141710206,1839.0105803414194,2207.583930024673,1829.1444132388292,2215.10482356174,1820.5921783163044,2226.720004655344,1814.1089260290164,2248.5898042332537,1803.1740262400615,2266.3590163903054,1784.0379516093906,2281.3945036001182,1762.168152031481,2305.9980281252665,1748.4995272952874,2320.3528351338264,1745.3398500422627,2334.702140071273,1749.8663897689069,2349.566769471883,1771.479902633013,2357.9388021228015,1795.99799825356,2357.9388021228015,1823.6769633443519,2352.471352228324,1848.2804878695001,2337.4358650185113,1871.517149921029,2314.5409185853873,1886.210921512437,2290.9625409154537,1893.3869494989385,2262.2584289694473,1901.5881243406548,2233.981461546447,1893.643236212742,2214.503671297371,1877.1554576247088,2198.0158927093375,1852.381075290358],x:2198.0158927093375,y:1745.3398500422627,w:159.9229094134639,h:156.24827429839206},{type:'poly',data:{type:'ground'},content:[1774.711129202477,1923.6824935998231,1785.9149494138624,1900.995103279467,1795.0182111982606,1889.317504557855,1807.5437980298113,1882.703990421263,1819.4980046536095,1883.0938281019573,1830.7524906208703,1890.8777942329586,1840.2435925097082,1902.179768967533,1843.6883521080638,1917.1409657787106,1852.6222901987796,1935.984255862397,1845.8869863314833,1956.5201958002897,1833.7425022819118,1967.4220927556423,1803.4152411484831,1967.4220927556423,1778.8117166233346,1961.9546428611648,1755.575054571806,1955.120330493068,1754.07618075857,1940.751773114841,1759.6756419926637,1927.783081020681,1774.711129202477,1923.6824935998231],x:1754.07618075857,y:1882.703990421263,w:98.54610944020965,h:84.71810233437941},{type:'poly',data:{type:'ground'},content:[1673.0168308929726,1973.5827113402004,1694.8841607724924,1969.3622600560705,1722.3922680540807,1970.7291225296897,1733.4637517796361,1975.470388101694,1743.6412635145105,1987.131472213122,1764.594146927076,2000.8000969493155,1786.4639465049872,2022.669896527225,1796.0319838203234,2048.640283525993,1793.5685519078681,2061.7577451775483,1782.3633590841287,2074.6106705247607,1753.6592471381214,2077.344395471999,1723.5882727184978,2077.344395471999,1704.3999051014978,2071.6519724233835,1689.656623835129,2064.041523816509,1678.4818110890603,2052.7408709468505,1663.4463238792468,2033.6047963161795,1660.0206559581666,2008.2400122307795,1663.8045551626133,1986.1299788336353,1666.7665501129036,1978.5353697982239,1673.0143611945825,1973.549187560833],x:1660.0206559581666,y:1969.3622600560705,w:136.0113278621568,h:107.98213541592872},{type:'poly',data:{type:'ground'},content:[2180.331177183334,1400.302499423398,2194.020999033988,1392.1062106821455,2205.048305903437,1393.477284123737,2218.603326444676,1400.302499423398,2225.4495108774963,1413.8784890861864,2221.3370513919144,1426.2728864221658,2212.6987577783266,1437.4673823196508,2199.467251814005,1441.3083736319786,2185.045293561271,1437.609666933035,2176.230589762476,1427.3834621819815,2174.525922254456,1412.7456983896536,2180.331177183334,1400.302499423398],x:2174.525922254456,y:1392.1062106821455,w:50.92358862304036,h:49.20216294983311},{type:'poly',data:{type:'ground'},content:[2058.488946300199,1544.4905733148796,2071.869205129553,1546.0946629508417,2084.5991070390937,1554.7074899763563,2087.999009555283,1561.1949053919504,2087.312634898869,1568.0586519560907,2082.328686093253,1579.6825701522127,2074.614703755209,1591.0522029459605,2068.0941445192766,1593.1113269152027,2061.894623413501,1593.305278605382,2048.1892794832693,1586.5907676792694,2045.1005935294063,1580.7565830997503,2046.00146355147,1571.7359902212015,2048.8756541396833,1555.017533484224,2051.6211527653395,1548.1537869200838,2058.488946300199,1544.4905733148796],x:2045.1005935294063,y:1544.4905733148796,w:42.89841602587671,h:48.81470529050239},{type:'point',data:{type:'start'},x:1936.1788961316308,y:1084.2470073727643,w:0,h:0},{type:'point',data:{type:'resistor',add:50,ability:'length'},x:2543.9607844129805,y:1315.659822459522,w:0,h:0},{type:'poly',data:{type:'ground'},content:[2074.9975337567507,1383.6950018788211,2090.063461139475,1398.7609292615452,2095.085436933716,1423.8708082327519,2111.4068582650007,1451.4916751010792,2113.6649271007077,1472.423017614731,2105.129388522199,1490.4119875064493,2074.9975337567507,1500.455939094932,2048.632160836984,1496.689457249251,2026.033269762898,1482.8790238150873,2017.2448121229756,1456.5136508953203,2018.500306071536,1428.892784026993,2027.2887637114584,1406.293892952907,2048.632160836984,1389.9724716216228,2074.9975337567507,1383.6950018788211],x:2017.2448121229756,y:1383.6950018788211,w:96.42011497773206,h:116.76093721611096},{type:'poly',data:{type:'ground'},content:[2257.4527285170143,1614.6668687438632,2279.3200583965336,1610.4464174597333,2306.828165678123,1611.8132799333525,2317.8996494036783,1616.5545455053568,2328.077161138553,1628.2156296167848,2349.03004455112,1641.8842543529784,2370.89984412903,1663.754053930888,2380.4678814443655,1689.7244409296554,2378.0044495319103,1702.8419025812107,2366.799256708172,1715.6948279284231,2338.0951447621655,1718.4285528756618,2308.02417034254,1718.4285528756618,2288.835802725539,1712.7361298270457,2274.0925214591703,1705.1256812201718,2262.9177087131015,1693.8250283505135,2247.8822215032883,1674.6889537198426,2244.456553582208,1649.3241696344423,2248.2404527866547,1627.2141362372981,2251.202447736945,1619.6195272018867,2257.4502588186238,1614.6333449644958],x:2244.456553582208,y:1610.4464174597333,w:136.0113278621575,h:107.9821354159285},{type:'poly',data:{type:'ground'},content:[2107.842301981791,1505.9384527408076,2117.886253570273,1500.9164769465663,2130.8088357829583,1502.2039402957184,2140.485144644358,1509.7049345864887,2148.511186968689,1521.2947111822898,2148.01810833572,1533.559319609135,2164.339529667005,1552.3917288375399,2168.6432726308913,1565.0299317587987,2168.105966865459,1577.5014292198525,2161.7011741266906,1587.2446469722986,2149.273602284281,1593.8230291400307,2125.2622805180645,1601.3559928313928,2111.7180648963877,1598.0048996537855,2105.3313140846703,1586.2900654486689,2105.3313140846703,1558.6691985803416,2105.3313140846703,1532.3038256605746,2107.842301981791,1505.9384527408076],x:2105.3313140846703,y:1500.9164769465663,w:63.31195854622092,h:100.4395158848265},{type:'poly',data:{type:'ground'},content:[1919.241935619606,1857.0129949715163,1929.2858872080878,1851.991019177275,1942.2084694207733,1853.278482526427,1951.884778282173,1860.7794768171973,1959.9108206065039,1872.3692534129984,1959.4177419735352,1884.6338618398436,1975.73916330482,1903.4662710682485,1980.0429062687062,1916.1044739895074,1979.5056005032739,1928.5759714505612,1973.1008077645056,1938.3191892030072,1960.673235922096,1944.8975713707393,1936.6619141558795,1952.4305350621014,1923.1176985342026,1949.0794418844941,1916.7309477224853,1937.3646076793775,1916.7309477224853,1909.7437408110502,1916.7309477224853,1883.3783678912832,1919.241935619606,1857.0129949715163],x:1916.7309477224853,y:1851.991019177275,w:63.31195854622092,h:100.4395158848265},{type:'poly',data:{type:'ground'},content:[2118.7378692394154,1876.9845998155065,2129.941689450801,1854.2972094951504,2139.0449512351993,1842.6196107735384,2151.5705380667505,1836.0060966369463,2163.5247446905487,1836.3959343176407,2174.779230657809,1844.179900448642,2184.2703325466473,1855.4818751832163,2187.7150921450025,1870.443071994394,2196.6490302357183,1889.2863620780804,2189.9137263684224,1909.822302015973,2177.769242318851,1920.7241989713257,2147.441981185422,1920.7241989713257,2122.8384566602736,1915.256749076848,2099.6017946087445,1908.4224367087513,2098.1029207955085,1894.0538793305243,2103.7023820296026,1881.0851872363644,2118.7378692394154,1876.9845998155065],x:2098.1029207955085,y:1836.0060966369463,w:98.54610944020988,h:84.71810233437941},{type:'poly',data:{type:'ground'},content:[2017.0435709299113,1926.8848175558837,2038.9109008094308,1922.6643662717538,2066.4190080910194,1924.031228745373,2077.490491816575,1928.7724943173773,2087.668003551449,1940.4335784288053,2108.620886964015,1954.1022031649989,2130.490686541926,1975.9720027429084,2140.0587238572625,2001.942389741676,2137.5952919448073,2015.0598513932312,2126.3900991210676,2027.9127767404436,2097.6859871750603,2030.6465016876823,2067.6150127554365,2030.6465016876823,2048.4266451384365,2024.9540786390662,2033.6833638720677,2017.3436300321923,2022.508551125999,2006.042977162534,2007.4730639161855,1986.9069025318631,2004.0473959951053,1961.5421184464628,2007.831295199552,1939.4320850493186,2010.7932901498423,1931.8374760139072,2017.0411012315212,1926.8512937765163],x:2004.0473959951053,y:1922.6643662717538,w:136.01132786215726,h:107.9821354159285},{type:'poly',data:{type:'ground'},content:[1969.7498596149064,1805.9077511873002,1974.7004169931308,1789.6599816719468,1988.8859342455773,1779.9373641885327,1999.5461054972104,1772.0862019983294,2014.4052065103488,1768.2280760568663,2026.2097712089057,1770.8742171932524,2035.3592583486352,1779.9373641885327,2058.5959204001642,1799.0734388192034,2090.033757293409,1799.0734388192034,2117.371006765796,1803.1740262400615,2126.198517627763,1812.0817005658723,2125.572181607512,1827.7775507652098,2109.16983192408,1848.2804878695001,2084.5663073989317,1860.5822501320743,2059.9627828737835,1868.7834249737903,2032.6255334013965,1874.2508748682676,2014.3781699670874,1871.517149921029,1999.5461054972104,1864.8030395867243,1989.0567920547796,1853.8333666685787,1975.2173095093838,1833.2450006596873,1969.7498596149064,1805.9077511873002],x:1969.7498596149064,y:1768.2280760568663,w:156.44865801285664,h:106.02279881140134},{type:'poly',data:{type:'ground'},content:[1881.0265043138706,1779.9657154435138,1894.8369377480342,1759.8778122665485,1920.4960953217367,1756.2682671644375,1942.4672394215422,1766.0768136375652,1952.5896593818097,1788.6757047116512,1941.290213844767,1811.353064157522,1916.1803348735602,1818.8860278488842,1891.0704559023534,1818.8860278488842,1878.51551641675,1797.5426307233583,1881.0265043138706,1779.9657154435138],x:1878.51551641675,y:1756.2682671644375,w:74.07414296505976,h:62.617760684446694}]
            },
            level5: {
                width: 4000,
                scale: 2.5,
                back: [],
                fore: [],
                both: [],
                text: 'Some have Spikey Teeth',
                advice: 'Transformers can strengthen cables',
                original: [{type:'rect',data:{type:'water'},x:1304.329331661614,y:938.5529262027916,w:296.5127731453674,h:1106.4988851366206},{type:'rect',data:{type:'water'},x:1597.7773296711189,y:1255.685725000895,w:1271.5687009187168,h:1490.3720582582678},{type:'rect',data:{type:'barrier'},x:2413.501242090356,y:1430.7855285190128,w:221.18638235810567,h:43.56701470555902},{type:'poly',data:{type:'ground'},content:[2618.315567939149,2089.8281568388966,2618.315567939149,2025.2629016710284,2612.4292768697132,1866.3330427962753,2612.4292768697137,1707.4031839215222,2606.5429858002785,1563.1890527203573,2603.5998402655605,1368.9414474289924,2585.9409670572545,1321.85111887351,2574.168384918384,1292.4196635263334,2556.509511710078,1260.0450626444394,2530.0212018976194,1242.3861894361335,2503.164998893321,1227.4865151666254,2474.101436737984,1210.011588554239,2438.7836903213724,1192.3527153459333,2400.522798370043,1186.466424276498,2365.205051953431,1180.5801332070628,2329.887305536819,1174.6938421376274,2300.4558501896427,1168.807551068192,2268.0812493077483,1157.0349689293216,2238.649793960572,1145.2623867904508,2200.9150697803902,1128.0408407784003,2168.6739065063057,1112.5173177205077,2124.4915716492264,1100.2776168479386,2085.0857054253447,1091.0232088711177,2043.8140311416207,1087.5154897186133,2008.6622072941811,1096.993794662615,1971.8684723540798,1110.4276126934838,1941.7916464294126,1118.4879035120048,1894.0269600974352,1132.2202508324485,1848.6505080820566,1138.7878952030953,1815.2152276496724,1138.7878952030953,1782.1950895106033,1138.9418243680323,1743.120404217344,1150.878331430877,1715.7303418988506,1165.4316342976515,1696.9976289780284,1191.3290501682704,1676.6976372869378,1219.9878619674569,1656.3976455958475,1243.8702051334458,1633.7094195881582,1265.3643139828355,1603.8564906306724,1274.917251249231,1571.5406950341937,1274.917251249231,1547.732984190599,1255.81137671644,1547.732984190599,1224.5404336334736,1545.344749874,1193.7172844848687,1538.1800469242016,1161.476121210783,1535.7918126076008,1128.0408407783975,1540.4196263771953,1097.720516528599,1545.442964126995,1067.0781562548214,1545.4429641269953,1035.4311284310836,1545.4429641269958,1004.2864343823256,1538.3474995554056,972.0742810617338,1509.777266103434,962.0903972839865,1479.6372396046813,957.0670595338107,1451.5065482043203,946.5180502544946,1421.3665216945183,949.0297191177582,1393.2358302726884,964.0997323604338,1370.6308102904986,993.7374250765486,1367.4787156841473,1027.5365654017448,1367.4787156841473,1062.8543118183566,1367.4787156841473,1095.228912700251,1367.4787156841473,1127.3965736617351,1367.4787156841473,1162.9212599987568,1373.3650067535827,1192.3527153459333,1379.2498607402374,1224.3346095002025,1382.1944433577355,1257.1019171097216,1382.1944433577355,1289.108624799776,1391.0238799618887,1318.9079733387923,1396.910171031324,1348.3394286859689,1417.5121897743475,1371.88459296371,1441.0573540520886,1395.4297572414512,1467.5456638645474,1413.0886304497571,1499.6873619047024,1416.0317759844747,1531.5590792446565,1416.0317759844747,1564.66946651023,1416.0317759844747,1593.7330286655667,1427.4364649315057,1617.6460861351477,1451.3495224010867,1632.3618138087359,1480.780977748263,1638.2481048781713,1510.2124330954396,1644.1343959476067,1539.6438884426161,1644.1343959476067,1571.4666495367508,1644.1343959476067,1604.3930902064044,1644.1343959476067,1636.7676910882985,1644.1343959476067,1668.4065055865133,1644.1343959476067,1698.5737473173692,1644.1343959476067,1733.8914937339812,1644.1343959476067,1766.0821480199554,1644.1343959476067,1801.583841032487,1679.0842491723788,1804.5269865672046,1717.1611945277882,1804.5269865672046,1755.4220864791178,1804.5269865672046,1788.3485271487714,1804.5269865672046,1826.609419100101,1804.5269865672046,1861.9271655167126,1804.5269865672046,1897.2449119333246,1804.5269865672046,1929.6195128152185,1804.5269865672046,1964.9372592318305,1798.6406954977695,1973.7666958359835,1769.209240150593,1973.7666958359835,1737.0193044060088,1985.1598881207692,1707.4376739082572,2014.6028401301908,1692.687456247934,2044.4021886692071,1686.8011651784986,2079.719935085819,1686.8011651784986,2108.2525497910833,1687.761661722656,2126.436081746191,1694.7961639826108,2134.937249840527,1704.978542195812,2147.412282384325,1733.8914937339812,2167.6464079355087,1760.0119103546,2188.616319870372,1783.924967824181,2218.0477752175484,1801.583841032487,2223.9340662869836,1831.0152963796634,2232.5781192124364,1863.1912093399271,2227.0726550798663,1898.3275352826945,2200.8491291841055,1918.9417572893883,2171.398323482618,1930.898297964144,2135.7126838741656,1936.9685356294988,2109.4083206576256,1954.443462241885,2106.281228526988,1987.0020097196991,2108.856480869866,2019.0087174097534,2135.7126838741656,2034.0923382751814,2168.087284756061,2034.0923382751814,2209.2183386133956,2039.9786293446166,2244.1681918381673,2037.035483809899,2276.9106859119015,2037.035483809899,2309.2852867937954,2028.2060472057462,2335.7735966062546,2010.5471739974403,2344.6030332104074,1981.1157186502637,2350.4893242798425,1951.6842633030872,2350.4893242798425,1919.309662421193,2350.4893242798425,1887.3029547311387,2353.43246981456,1854.5604606574047,2353.43246981456,1822.1858597755106,2353.43246981456,1789.8112588936165,2353.43246981456,1757.4366580117223,2353.43246981456,1725.2460037257479,2353.43246981456,1683.858019643781,2353.43246981456,1651.483418761887,2353.43246981456,1613.808856585052,2353.43246981456,1580.8479259286632,2344.786979806327,1551.7843637733263,2321.460252111241,1528.2736894823202,2292.389504542001,1516.121717489365,2259.670197825986,1516.098724175839,2217.9716098301756,1516.098724164875,2180.3908276603415,1516.098724164875,2145.2394132200216,1510.2124330954396,2115.5489237016377,1504.395660905517,2085.6062261552543,1486.6672688176984,2082.6630806205367,1452.0853087847659,2094.1137562165472,1416.5032373746,2114.643549094659,1387.0176378026229,2137.822628989222,1366.390625493385,2166.8815174562196,1357.2148535295773,2200.1556860980227,1351.467958074818,2231.0982405159803,1348.7073558226061,2261.4221196855306,1345.3970915186026,2299.2296121367535,1345.39628320059,2338.0924604230677,1345.3962831512513,2370.6973771467265,1345.3962831512513,2400.2928651251427,1356.800972098282,2420.538453525373,1380.1597477962805,2426.827161586582,1415.6399014737335,2432.897399251937,1445.4632313316513,2432.897399251937,1483.7241232829806,2438.7592599141017,1515.2450969931842,2438.7836869663665,1552.5889230849493,2438.783690320553,1583.2014352252218,2438.7836903213724,1616.165672345275,2438.7836903213724,1651.483418761887,2438.7836903213724,1683.858019643781,2438.7836903213724,1721.3049838352347,2438.7836903213724,1755.916019235168,2438.7836903213724,1786.500220167059,2438.7836903213724,1819.9052094026604,2438.7836903213724,1850.0709557218754,2438.7836903213724,1889.1177208300453,2438.7836903213724,1924.0128526370613,2438.7836903213724,1956.8347679888432,2438.7836903213724,1991.6280498978242,2438.7836903213724,2021.9518629444713,2438.7836903213724,2056.901716169243,2442.9149257389167,2222.3727452234266,2362.1567141489513,2563.673669323626,2161.957200545802,2785.296383016086,1865.2355904746412,2794.1263380989467,1514.7046914597609,2735.1020319501667,1321.971962006776,2687.3225592666013,888.3510893629473,2498.9967978144887,613.9692335516804,2379.500588395358,413.09551417791477,2287.7973686812475,213.22181363892219,2162.815625952395,48.55133476752553,1849.4891844747797,0,1565.1475695154093,4.797854507745797,1281.0687211642157,54.231212534184124,1053.0829602707693,157.91343122900616,795.2883490437459,297.3322624550224,582.8950815991986,894.9922947589098,194.87379900812948,1194.5743409082804,124.85684417432776,1492.3013414579655,77.02722975638176,1792.133014732514,37.09294216954481,2144.8141224419005,12.113644971488384,2362.2630124788566,0,2696.1235883104555,29.605583221278494,2944.582425670638,142.0128176169369,3321.477228600466,520.8102860909638,3480.900895786967,848.6809336253285,3591.5898190956655,1132.9932875974844,3684.5714873122506,1364.214941560564,3766.8132637225244,1612.3958774535138,3795.9199997419105,1921.0511999476346,3738.815579330642,2162.7971465709425,3613.974564199007,2517.783221297588,3506.6235728670126,2790.345568781194,3360.5170541558405,2922.4418733693765,3088.9524686386276,2911.5248234034107,2973.5076328623627,2876.590263512321,2866.645279020707,2847.5038947919647,2733.1193099789734,2801.310949437113,2643.837371566147,2641.9234236903076,2631.2326033402587,2441.42655001655,2618.315567939149,2089.8281568388966],x:0,y:0,w:3795.9199997419105,h:2922.4418733693765},{type:'point',data:{type:'resistor',multiply:.5},x:2281.7506671900105,y:1346.504020720342,w:0,h:0},{type:'poly',data:{type:'ground'},content:[2036.3586850990969,1182.7976538905193,2067.9357757907533,1176.1498453238548,2093.966425350552,1185.036009938677,2145.2898429553243,1205.5698120028082,2184.0031553028202,1226.8241795661393,2229.0597162287004,1235.9331942361382,2272.8160483353113,1243.5240397944708,2316.8429525736396,1252.6330544644698,2326.586021084618,1257.3606891817185,2329.6223593079512,1270.265126630884,2324.2057051473507,1287.741634216437,2309.8861608562866,1299.8899637982313,2297.7408079629545,1306.7217248007305,2284.3090629384737,1308.7250351684108,2240.2317507413595,1310.3440201976475,2193.7637201960706,1313.212297634912,2138.4908059253944,1324.2101537658114,2117.305218076116,1333.247355526514,2098.272258608543,1335.7911296946072,2079.0197853674917,1333.5266230156062,2059.4647128617007,1332.9122902188737,2011.4294029741052,1350.6548201987976,1974.43027457027,1372.4817375593414,1941.6274130241281,1395.527528023783,1920.7421858783466,1425.4426665757437,1910.0503223324718,1469.0061711934109,1910.0503223324718,1512.4874099935362,1909.9464503236177,1560.8584705160972,1910.0533112313167,1621.490413281906,1891.7748265718344,1633.951069145942,1826.5372272137492,1633.1866842820382,1783.7419595658466,1633.1866842820382,1760.8345173246219,1629.72559511987,1742.7193164759208,1614.4625183545172,1738.8692517408613,1582.6747610388616,1738.9731237497153,1541.4417324616256,1742.1931560241935,1498.5685608070823,1742.1931560241935,1454.9272282589354,1742.1931560241935,1412.7702814935687,1742.1931560241935,1368.936293757125,1745.5170603075258,1329.049442357138,1750.5029167325242,1289.1625909571512,1759.9526246975292,1268.157900017597,1775.6399428752243,1250.8338196899763,1788.9939833262652,1241.805556076707,1813.6570981158366,1232.656218140503,1860.1917580824881,1230.994265998837,1908.3883701908057,1230.994265998837,1953.2610780157909,1222.6845052905062,1994.809881557444,1207.7269360155112,2036.3586850990969,1182.7976538905193],x:1738.8692517408613,y:1176.1498453238548,w:590.75310756709,h:457.8012238220872},{type:'point',data:{type:'resistor',ability:'strength',add:1},x:1735.6910571827443,y:1804.4606871212948,w:0,h:0},{type:'poly',data:{type:'ground'},content:[2203.519103381707,1653.062361284187,2203.519103381707,1639.2425885581172,2203.519103381707,1597.7832703799072,2204.901080654314,1574.9988033918814,2214.5386055425834,1559.9015182587063,2227.330974319193,1552.9238625623739,2244.9784215599166,1550.7960431112692,2285.1421360450577,1552.2643939634142,2308.194802776692,1566.108169284446,2321.5293262196815,1586.649198427981,2320.987171553302,1614.3669976511912,2320.987171553302,1654.5361104850533,2320.987171553302,1695.903656735004,2321.6438043618427,1718.5356129273748,2312.2257852913244,1735.5058532834757,2284.9693888859815,1735.980997640607,2246.3603988325235,1722.1612249145371,2220.1028306529906,1690.375747644576,2203.519103381707,1653.062361284187],x:2203.519103381707,y:1550.7960431112692,w:118.12470098013591,h:185.1849545293378},{type:'point',data:{type:'ugly_fish'},x:2052.9778699172293,y:1387.4032794577085,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:1993.0653140829047,y:1387.403829801557,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:2043.932612508896,y:1443.9230502748806,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:1808.1100495152418,y:1716.1118803691113,w:0,h:0},{type:'point',data:{type:'start'},x:1446.7445927309188,y:1091.9808110657873,w:0,h:0},{type:'point',data:{type:'cable',state:'reactor',volt:400,l:100},x:1448.9526057594694,y:945.9207729986235,w:0,h:0},{type:'point',data:{type:'goal',time:0,height:1000},x:2525.519549155192,y:1615.266297068951,w:0,h:0},{type:'point',data:{type:'power',require:100},x:2186.9042930508485,y:1226.641452341274,w:0,h:0},{type:'point',data:{type:'power',require:200},x:2146.379310101404,y:2032.3384083096928,w:0,h:0},{type:'point',data:{type:'resistor',multiply:.5,plugs:2},x:2028.857627886355,y:1690.1773090066315,w:0,h:0},{type:'point',data:{type:'shrimp'},x:1689.9802846947696,y:1368.5768855650026,w:0,h:0}]
            },
            level6: {
                width: 4000,
                scale: 2.5,
                back: [],
                fore: [],
                both: [],
                text: 'Hold R to Restart',
                advice: 'Hold R to Restart',
                original: [{type:'rect',data:{type:'water'},x:1732.914378172792,y:1956.188767237245,w:1786.2740944282345,h:1490.0510555024184},{type:'poly',data:{type:'ground'},content:[2236.943978040063,2211.3206722728296,2202.7888305511333,2231.344934464321,2174.9331133743963,2242.4872213350154,2149.8629679153332,2261.986223358731,2141.6094653228643,2282.8133994668106,2020.2684674959432,2334.1188813059853,1930.8188360362535,2309.3357450122044,1718.9646326091176,2159.8731346047884,1704.824056944778,2060.8891049544113,1688.3267186697153,1952.478024861141,1685.969956058992,1815.7857934391918,1685.969956058992,1712.088238567368,1867.4091678018535,1664.0229187875625,1957.9769367556946,1616.223262950813,2068.670876588167,1565.9078357542344,2174.333273700982,1538.2343507961164,2305.153384412086,1520.623951277314,2423.394638324045,1520.623951277314,2544.1516635958333,1520.623951277314,2680.0033170265947,1525.6554939969717,2803.276113658212,1530.6870367166296,2908.938510771027,1530.6870367166296,3024.6639933231572,1530.6870367166296,3150.452561314603,1535.7185794362874,3256.1149584274176,1563.3920643944057,3369.3246696197193,1618.7390343106417,3462.408209933389,1664.0229187875625,3552.189800337284,1731.3198026629861,3643.5437478410713,1812.4534290174688,3708.9538031966235,1923.1473688499414,3759.2692303932017,2048.935936841387,3794.490029430807,2159.6298766738596,3882.4331431233486,2572.7883542486484,3894.505478494928,2746.328175215105,3894.505478494928,2886.669073909718,3861.2435712367082,3205.067003852941,3850.9224687997917,3331.020040862297,3808.1146562390195,3448.4394291327385,3757.1851410754975,3531.7199655878007,3669.77617668806,3608.2550510544943,3543.823500289761,3689.471171434936,3349.457415322725,3766.0062727824998,3221.716537348642,3814.4597966335978,3111.595074233998,3845.2938684643514,2946.9628814932357,3832.215091095968,2799.812610880046,3824.0923427946886,2665.4638147037363,3797.523942332022,2533.318026563875,3764.761361305308,2390.0219985891736,3742.460900680841,2271.0907850315816,3733.651192909631,2160.969289775381,3729.246342460635,2028.8234957692446,3716.031770908266,1896.6777012773543,3702.817197816156,1790.961064674024,3680.79290410414,1645.6006907657882,3636.744310808428,1513.4548959172323,3583.885997122372,1394.5236790182473,3522.217964051295,1306.4264818847307,3447.3353500503526,1203.1875787337572,3357.311030611476,1125.8272278182396,3271.140962482979,1064.1591899458058,3161.019469170827,1020.1105912378957,3050.897975631111,989.8271790644067,2876.080104256655,980.4668513865277,2772.2905962377476,971.6571312843307,2650.0557378766043,971.6571308160346,2535.529384029381,989.2765694980194,2394.5738715391576,998.0862885965221,2293.262096881125,1068.5640445547538,2174.330883129499,1133.5357258519887,2095.594014725627,1253.5681543922808,2024.565650929374,1368.0945082743885,1954.0878946054104,1469.4062828556864,1923.2538761871544,1586.6819636645141,1920.1349066541127,1690.3795185363379,1929.561957097006,1801.1473612403313,1948.416057982792,1902.4881535014315,1979.0539719221945,1996.758657930362,2012.04864847232,2137.666888001277,2174.444852646365,2158.364732138138,2246.07023870647,2154.739895543451,2266.3016107161775,2160.7893308229955,2295.3227970754297,2183.862858031258,2311.1753372806866,2220.6195032122187,2329.3838403270233,2271.843004934219,2347.8529152516294,2312.7496291755533,2353.1531236777155,2335.1599519792235,2358.7547437047538,2341.908361937932,2366.3089445477895,2345.487065340565,2379.5826357081614,2345.7069384407737,2391.5675904740206,2339.69704914265,2400.8293282348877,2318.9682645525754,2415.3394774479398,2276.600793159421,2424.7205912052586,2236.1643192199913,2425.447630887982,2161.005254786028,2429.120526419152,2110.8649638679017,2434.6916698544997,2066.2958163851226,2440.2628132898467,2002.227666878628,2454.190671878215,1949.3018042428282,2473.689673901931,1921.4460870660914,2484.8319607726257,1893.5903698893546,2509.902106231689,1860.1635092772704,2546.114538561447,1835.0933638182073,2593.4692577618994,1832.3077921005336,2665.894122421415,1837.878935535881,2713.2488416218675,1860.1635092772704,2757.8179891046466,1899.161513324702,2794.030421434404,1935.37394565446,2807.9582800227727,1968.800806266544,2807.9582800227727,2016.1555254669966,2807.9582800227727,2063.510244667449,2807.9582800227727,2096.937105279533,2805.172708305099,2127.5783941739437,2799.6015648697517,2188.860971962765,2788.459277999057,2220.3939232222156,2793.2795884749326,2244.511014829303,2814.382043631134,2265.6134699855043,2836.991817012778,2279.1793340144905,2864.1235450707513,2300.281789170692,2886.7333184523955,2328.920835454108,2900.299182481382,2359.0671999629667,2900.299182481382,2393.7355191481547,2903.3138189322676,2422.0288722215478,2918.9823592512107,2439.562426553396,2944.4512941887833,2451.6662256914856,2971.4899793164955,2465.7580796493176,2996.951397263033,2479.84993360715,3025.295239882764,2506.356726694415,3047.1157680406477,2542.792575476786,3052.7463325591443,2579.005007806544,3052.8057536422943,2607.0841414358943,3051.9715089149904,2634.552446790554,3053.088591178057,2667.979307402638,3055.8741628957305,2698.6205962970485,3055.8741628957305,2740.404172062154,3053.088591178057,2768.2598892388905,3041.946304307362,2798.901178133301,3030.8040174366674,2832.328038745385,3014.090587130625,2862.9693276397957,2986.2348699538884,2885.253901381185,2961.1647244948254,2907.5384751225747,2933.3090073180883,2907.5384751225747,2897.0965749883308,2907.3643768902202,2866.107089629211,2885.253901381185,2844.1707123525307,2860.183755922122,2827.4572820464887,2815.614608439343,2799.6015648697517,2776.6166043919116,2777.316991128362,2740.404172062154,2757.8179891046466,2712.548454885417,2727.176700210236,2698.6205962970485,2699.320983033499,2690.2638811440274,2665.894122421415,2690.2638811440274,2624.11054665631,2690.2638811440274,2576.7558274558573,2701.4061680147224,2537.757823408426,2723.6907417561115,2509.902106231689,2752.5910483269763,2495.6260511786113,2782.187747827259,2487.6175324902993,2821.1857518746906,2487.6175324902993,2851.827040769101,2487.6175324902993,2885.253901381185,2493.1886759256467,2922.336824872716,2507.8129274434336,2949.32205088768,2529.401108255405,2971.6066246290693,2560.0423971498153,2985.534483217438,2601.8259729149204,2996.6767700881323,2632.467261809331,3007.8190569588273,2665.894122421415,3032.8892024178904,2716.034413339541,3052.388204441606,2743.890130516278,3080.243921618343,2774.5314194106886,3113.6707522358915,2791.244805287412,3130.7709786369514,2793.1008959760616,3147.0976428425115,2805.172708305099,3164.5302612057735,2838.7215480960917,3173.2396139944335,2879.42063377292,3175.134132448051,2943.4486821543333,3175.4120032952887,3008.394249244372,3175.4658402033624,3077.211857074168,3173.989268214363,3141.3546352062676,3171.3457179986945,3207.4861475794914,3168.9328530634884,3385.02119698884,3168.7615641278453,3447.5680006826738,3224.1743930507955,3477.776258384996,3287.3113363286498,3477.1187466952692,3349.843615858888,3469.718600928415,3366.271754144589,3407.8754208264204,3348.1614468408616,3221.0890017641113,3334.8691751483093,3139.036687881067,3327.1474755188997,3075.9723104724358,3309.012192889474,2981.0269057258106,3281.432193325168,2890.144743953542,3268.382635216028,2827.106480981393,3273.0498879949564,2796.3254840789355,3282.4431256862563,2779.6120537728934,3311.4463741852587,2743.890130516278,3325.3742327736268,2716.034413339541,3339.3020913619953,2685.3931244451305,3353.229949950364,2651.9662638330465,3361.586665103385,2618.5394032209624,3361.586665103385,2579.541399173531,3358.8010933857113,2543.328966843773,3347.6588065150163,2504.3309627963413,3328.1598044913007,2465.3329587489097,3305.875230749911,2440.2628132898467,3271.229682511345,2403.179889798316,3239.0215095257427,2381.7658072186996,3208.380220631332,2362.2668051949836,3172.1677883015745,2348.3389466066155,3133.169784254143,2337.1966597359205,3099.7429236420585,2320.4832294298785,3074.6727781829954,2303.7697991238365,3055.17377615928,2275.9140819470995,3030.103630700217,2239.701649617342,3013.3902003941744,2209.0603607229314,2982.4843049189276,2188.310168415181,2946.818023857626,2172.202815677819,2896.1949152544885,2162.9986141136123,2850.1739074334546,2153.7944125494055,2797.249748439265,2150.3428369628277,2747.3457180833316,2151.780993457235,2707.508783188249,2161.8480889180864,2676.444602909051,2177.9554416554483,2651.133048607482,2197.5143699793875,2624.6709691103874,2217.073298303327,2585.5531124625086,2245.8364281914737,2552.187881792259,2266.545881710939,2519.973176317535,2280.352184057249,2486.6079456472853,2293.0079612080335,2449.7911393904583,2294.1584864035594,2417.576433915734,2280.352184057249,2400.3185559828466,2255.04062975568,2400.318555982828,2222.825924280942,2396.8669803962366,2192.912269197249,2388.813304027496,2162.9986141134896,2363.501749725746,2146.8912613759267,2332.006122497771,2146.891261375574,2297.921813579192,2146.8912613748535,2266.857633295658,2153.7944125456265,2248.4492301560736,2180.256492038746,2236.943978040063,2211.3206722728296],x:971.6571308160346,y:1520.623951277314,w:2922.8483476788933,h:2324.6699171870373},{type:'point',data:{type:'cable',state:'reactor',volt:300,l:100},x:2319.720657943964,y:2145.6688792773402,w:0,h:0},{type:'point',data:{type:'start'},x:2246.128348095296,y:2280.2376744291882,w:0,h:0},{type:'poly',data:{type:'ground'},content:[2149.8140710058733,2536.686075546314,2183.038112783768,2518.2282745585944,2219.9537147592073,2510.8451541635063,2260.56087693219,2512.6909342622785,2301.168039105173,2529.302955151226,2332.5463007842964,2547.7607561389455,2351.004101772016,2582.830578015613,2365.885703818365,2618.1311224046262,2360.2330022658753,2654.816001867719,2334.392080883068,2680.6569232505262,2299.3222590064015,2693.57738394193,2260.56087693219,2693.57738394193,2216.262154561663,2688.040043645614,2181.1923326849965,2676.9653630529824,2141.854144329919,2662.1991222628067,2103.669568536574,2671.4280227566665,2081.520207351311,2706.4978446333334,2048.2961655734152,2732.338766016141,2003.9974432028887,2739.7218864112288,1967.0818412274498,2730.492985917369,1935.12677326746,2705.5749545839476,1917.2457785606068,2673.2738028554386,1919.0915586593787,2634.5124207812273,1937.5493596470983,2599.4425989045603,1970.7734014249936,2573.601677521753,2012.4188149035358,2560.565855574176,2055.679285968503,2553.2980964352614,2111.0526889316616,2542.22341584263,2149.8140710058733,2536.686075546314],x:1917.2457785606068,y:2510.8451541635063,w:448.63992525775825,h:228.87673224772243},{type:'poly',data:{type:'ground'},content:[2370.189116101814,2431.413662335104,2359.1144498164144,2392.6522232992174,2361.6359828051386,2370.535006606059,2375.82169408012,2357.877413516574,2392.043522154729,2356.6215436824987,2414.440785172773,2361.2584872712046,2436.637199657604,2372.3486991744016,2471.7070215342715,2387.114939964577,2508.6226235097106,2388.960720063349,2545.5382254851497,2383.423379767033,2580.6080473618167,2366.8113588780857,2615.6778692384837,2340.970437495278,2637.827230423747,2311.437955914927,2678.43439259673,2289.2885947296636,2714.773188291303,2274.6377151956613,2755.380350464286,2259.9868356616585,2798.410099016907,2257.9103330505404,2843.6317114368203,2274.176270170968,2875.9328631653293,2296.6717151247512,2899.928004449365,2329.8957569026466,2914.69424523954,2363.0044374243685,2909.5690015375803,2381.50731805908,2896.2364167812684,2394.4981357878987,2876.4851320402345,2396.4738304506022,2851.937721881294,2394.498060359665,2807.638999510767,2400.0354006559805,2765.186057239012,2407.4185210510686,2719.041554769713,2412.9558613473846,2680.280172695502,2427.72210213756,2645.210350818835,2446.1799031252795,2611.98630904094,2466.483484211771,2586.1453876581327,2492.3244055945784,2582.4538274605884,2532.9315677675613,2582.4538274605884,2577.2302901380885,2588.3007113203557,2612.252722154234,2590.3191256543914,2630.4184511605545,2592.360356565473,2645.2434951911973,2596.038226795663,2669.4406072289084,2599.4019909209046,2684.495070737681,2603.9392499493615,2698.0425694900196,2609.4940618277296,2711.155024521978,2616.7743016328172,2724.2403564357096,2631.696619169466,2744.5309566536175,2649.588909343434,2765.5080527086807,2668.091746091043,2782.1062398135323,2696.179307608442,2806.8893823288845,2730.8757071299347,2825.0636868401425,2763.7133709627756,2849.537040074052,2780.442039761308,2882.891098710412,2781.531521622978,2903.883804869761,2775.485363657568,2920.8918378995027,2760.7126499339024,2936.834679348413,2735.079599457008,2939.6203205518464,2714.3536121197,2932.457304406667,2681.9290006621145,2903.3371119511285,2654.8740700828553,2876.2821813718697,2632.87049692297,2843.2333260615706,2606.3078155230132,2823.200285861661,2588.922350005159,2798.5600048421466,2575.3444194910794,2766.8077698168095,2572.0400004890325,2726.5351632293628,2561.361395969434,2713.4101887015127,2549.1344198524475,2685.957737859254,2545.8300008504,2647.9569193357142,2529.045674208297,2628.5177892612023,2504.00017903315,2621.259276667859,2478.3414700894714,2627.612357044795,2473.132782805368,2649.609128831275,2474.7197412238406,2671.9785356487673,2481.3938303104856,2687.609947360277,2489.2066566863623,2709.101256521479,2492.344720502934,2728.6287453649475,2498.767159909101,2751.2629561791864,2512.438219801988,2784.7189924298796,2528.7163953286704,2807.10739382827,2543.245217768069,2834.6212763075955,2542.2214982588494,2867.226729395542,2530.734809662706,2877.7518955195155,2516.809865751694,2879.230932835229,2480.4612567291774,2867.6654663280647,2454.0259047128025,2842.882323812713,2445.764857207685,2806.533714790197,2445.5668429859857,2768.5285946840413,2444.020320052692,2724.8926980398446,2425.5625190649725,2680.593975669318,2423.7167389662004,2643.6783736938787,2423.7167389662004,2603.0712115208958,2432.94563946006,2562.464049347913,2434.7914195588323,2525.5484473724737,2418.1793986698844,2486.7870652982624,2397.875815532965,2455.4088068052915,2381.590069277599,2444.933792413532,2370.189116101814,2431.413662335104],x:2359.1144498164144,y:2257.9103330505404,w:555.5797954231257,h:681.7099875013059},{type:'poly',data:{type:'ground'},content:[3078.382620514287,2524.184911276003,3081.7600997013974,2500.442442872903,3097.061751603792,2480.016659744453,3124.0504274312652,2463.4424474444186,3157.0511969054214,2453.763293718311,3192.812168856112,2452.014673674649,3228.629120116919,2458.4463210732297,3256.776223034351,2470.711643954917,3281.7577945641174,2498.036593476395,3290.805324909204,2526.641277295522,3294.193034872335,2564.245567150263,3293.2449469304993,2597.4307969291763,3286.9273228020816,2636.119857805101,3272.6086061663855,2674.3892577631186,3253.1943293573513,2705.0788592194003,3227.089705696055,2721.349600970301,3195.8633312206184,2729.5638796211865,3164.118830760583,2726.2863706676353,3133.0476777650633,2711.740034530685,3110.86927105615,2687.5177927227824,3096.2433813916255,2656.564654594773,3085.918628712003,2622.3453010134945,3080.5061159915476,2591.9756200343804,3078.7656909292245,2561.6699454025606,3078.382620514287,2524.184911276003],x:3078.382620514287,y:2452.014673674649,w:215.8104143580481,h:277.5492059465373},{type:'point',data:{type:'ugly_fish'},x:2978.7493343717947,y:2476.664516266772,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:2949.977435436945,y:2253.6822995216876,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:3101.029904844905,y:2397.5417941959354,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:3026.7024992632105,y:2363.9745787719444,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:3210.2684886793672,y:2790.083430673037,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:2157.3216802442685,y:2730.294699172974,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:2296.828830023374,y:2484.4963874688938,w:0,h:0},{type:'rect',data:{type:'barrier'},x:3165.5550614063836,y:2865.6195197216166,w:126.06830495843951,h:34.188015837638886},{type:'point',data:{type:'goal',time:0,height:1000},x:3219.835019116321,y:2839.6602241051096,w:0,h:0},{type:'point',data:{type:'power',require:100},x:2490,y:2390,w:0,h:0},{type:'point',data:{type:'power',require:83},x:2519.5345282888234,y:2790.945825839218,w:0,h:0},{type:'point',data:{type:'resistor',multiply:0},x:2192.7373124326746,y:2516.6276385220253,w:0,h:0},{type:'point',data:{type:'power',require:67},x:3106.9965243187644,y:2788.2449551683785,w:0,h:0},{type:'point',data:{type:'power',require:150},x:2320.8785735234655,y:2893.322489488838,w:0,h:0},{type:'point',data:{type:'resistor',multiply:.333,plugs:2},x:2245.156403123901,y:2359.327610686787,w:0,h:0},{type:'point',data:{type:'resistor',multiply:.333,plugs:3},x:2773.9864823801463,y:2495.750681060102,w:0,h:0},{type:'point',data:{type:'resistor',add:100},x:2728.1143175446978,y:2267.368063662566,w:0,h:0},{type:'point',data:{type:'resistor',add:83},x:2513.5047494718506,y:3051.874640321622,w:0,h:0},{type:'point',data:{type:'resistor',add:83},x:2677.4372788842534,y:3056.9709795342974,w:0,h:0}]
            },
            city: {
                width: 4000,
                scale: 3,
                back: [],
                fore: [],
                both: [],
                text: 'The Great Plug Socket',
                advice: 'Plug it in!',
                original: [{type:'rect',data:{type:'water'},x:756.6521282677584,y:398.99514569716547,w:1263.830173898414,h:789.8938586865434},{type:'poly',data:{type:'ground'},content:[988.6180590764511,554.4421297487555,987.6136387758792,570.8375737198899,975.8698320352194,583.9576143830737,938.8506140237585,594.9262715716548,905.9446424580153,601.7816823145179,874.4097530408449,625.0900788402527,855.2146029608282,653.8828039602779,846.9881100693923,681.3044469317304,840.1326993265291,716.9525827946188,834.6483707322386,760.8272115489428,831.9062064350933,799.2175117089764,833.277288583666,833.4945654232922,842.8748636236744,873.2559477318985,856.5856851094006,910.2751657433594,870.296506595127,948.6654659033932,892.2338209722891,981.5714374691361,918.284381795169,998.0244232520076,948.4481890637668,1011.7352447377341,986.8384892238005,1022.703901926315,1027.9709536809794,1022.703901926315,1059.5058430981499,1022.703901926315,1104.7515540010465,1022.703901926315,1139.0286077153623,1019.9617376291699,1177.418907875396,1017.2195733320245,1208.9537972925664,1017.2195733320245,1251.4573438983177,1017.2195733320245,1292.5898083554966,1018.5906554805972,1324.124697772667,1018.5906554805972,1354.2885050412651,1021.3328197777423,1400.9052980927345,1030.9303948177508,1455.7485840356396,1035.0436412634688,1488.6545556013825,1035.0436412634688,1535.2713486528519,1030.9303948177508,1584.6303060014666,1022.703901926315,1628.5049347557908,1022.703901926315,1661.410906321534,1022.703901926315,1714.8831101158664,1022.703901926315,1749.1601638301822,1022.703901926315,1780.6950532473525,1019.9617376291699,1809.4877783673778,1006.2509161434434,1841.0226677845483,987.0557660634267,1862.9599821617103,966.4895338348372,1883.5262143902996,937.696808714812,1904.0924466188892,903.4197550004963,1920.5454324017608,875.9981120290438,1928.7719252931965,838.9788940175827,1928.7719252931965,803.3307581546944,1927.4008431446239,773.1669508860966,1921.9165145503334,741.6320614689262,1899.9792001731712,718.3236649431914,1870.914578688799,708.6779147534617,1842.393749933121,703.2417613088925,1812.2299426645232,696.3863505660293,1782.0661353959254,697.7574327146019,1751.9023281273276,700.4995970117473,1717.6252744130115,704.612843457465,1686.0903849958413,704.612843457465,1650.4422491329528,704.612843457465,1620.278441864355,693.6441862688841,1590.1146345957573,681.3044469317304,1558.5797451785868,671.706871891722,1528.4159379099888,659.3671325545683,1494.1388841956732,649.7695575145599,1463.9750769270754,647.0273932174147,1431.069105361331,647.0273932174147,1399.534215944158,647.0273932174147,1380.6848047607837,650.9306172893534,1361.0546018585387,662.8756301777693,1333.6710454784945,680.4401385021528,1307.3852708677164,698.0046468288924,1283.5428411930557,716.5449611757113,1262.4981940375762,744.8433357036374,1246.8852977494066,775.0933222663284,1231.2724014627845,805.3433088291137,1209.8046690755536,832.665877339778,1183.4579066211168,852.1819977082771,1153.2079201667666,866.8190879915594,1123.9337399095382,879.5045662287359,1090.7563361997748,891.2142384003165,1056.6031281443902,896.0932683913979,1024.4015365113048,894.1416563529009,1004.2023410816189,888.9503355828974,989.6027710554205,878.0952859293234,980.3531158076869,863.5788544974854,974.1533550243571,845.8630856063407,973.304641679927,829.7542616588726,973.3934507720373,814.9642490361473,974.0717607771771,799.1761819283063,976.2697516119879,776.4474260707359,979.3166907043023,758.0418390066848,992.4580126070138,726.4239089073537,1006.2162991187563,713.7564542656564,1028.5606231687539,701.2775341180034,1050.741798293383,677.3901147530179,1072.0698512978347,654.3558175082102,1092.544782182108,628.7621539028685,1114.07406087653,602.9511914874577,1129.218625394134,574.7035466093192,1135.5187998460653,547.8161653309384,1128.6557547992345,520.3466917445575,1097.4610865211414,510.4957182246101,1067.0873056962362,512.9583943789324,1034.250611641108,512.9580998352804,1013.4638117435401,524.9904733981269,969.8309051518224,569.1998071788892,926.3812480006991,576.5603702195891,895.2692484275385,576.5603702195891,864.157248854378,576.5603702195891,833.1596316325894,576.5603702195891,801.9332497080569,576.5603702195891,687.3243960258703,527.9181154040875,637.9112202332035,483.99529247727264,619.9310765633641,383.64704824701715,628.475201878085,281.11650135576957,790.1046088980252,128.16313973697333,1023.6463154089288,37.02490794430628,1236.3615155643681,0.7120185480592909,1510.666222449219,0,1814.163643631812,36.13488296176922,2074.584011635994,119.61892405607102,2259.708538487317,239.23784889908802,2394.635837916573,454.44511116993715,2450.5292047228204,666.4482951606064,2461.9214833521332,894.2938665665129,2433.440786954562,1122.1394379882265,2226.889781136437,1550.7139655126502,2007.53279228586,1607.6753583756004,1728.4775936488759,1624.7637762363952,1483.5436043625655,1607.6753583805648,1227.2173365037343,1533.6255476666402,1016.4601829304346,1496.6006423097174,794.3107507852079,1431.095040523876,612.0342936403455,1280.1473494511467,524.6495200957064,1110.8790729209784,470.53619688080744,1008.3485657771075,433.5112915232188,888.7296407759015,439.20743080893476,789.0472032748812,497.46394650527213,571.6195667811571,560.1214786487492,491.8736167803272,654.1077768639975,460.5448507085717],x:433.5112915232188,y:0,w:2028.4101918289143,h:1624.7637762363952},{type:'point',data:{type:'giant_plug'},x:1471.5883871636438,y:1037.640904070001,w:0,h:0},{type:'point',data:{type:'text',text:'Balance the System'},x:1022.1164159561213,y:956.1095997001762,w:0,h:0},{type:'point',data:{type:'text',text:'Save your City'},x:1068.4225040393185,y:981.8352041908413,w:0,h:0},{type:'point',data:{type:'building',place:'fore'},x:1310.1551438619488,y:1019.5170619166468,w:0,h:0},{type:'point',data:{type:'building'},x:1376.975916698199,y:1031.0826891457282,w:0,h:0},{type:'poly',data:{type:'bunting'},content:[1255.3283812289571,755.2834367773603,1284.2562145412514,777.404721074997,1313.1840478535457,785.9129073433189,1348.9184301804976,785.9129073433189,1377.8462634927919,777.404721074997,1405.0724595514216,767.1948975530108,1435.7019301173805,750.1785250163671,1464.6297634296748,733.1621524797235,1490.1543222346402,712.742505435751,1510.5739692786126,683.8146721234567,1520.7837928005988,656.5884760648269],x:1255.3283812289571,y:656.5884760648269,w:265.45541157164166,h:129.3244312784921},{type:'poly',data:{type:'bunting'},content:[1532.6952535762493,654.8868388111624,1530.993616322585,683.8146721234567,1530.993616322585,712.742505435751,1532.6952535762493,746.7752505090384,1534.396890829914,779.1063583286614,1544.6067143519,806.3325543872913,1556.7308797842586,835.5794446846477,1573.5345476641944,862.4865837582156,1597.3574692154955,889.7127798168455,1621.1803907667968,906.7291523534891,1650.108224079091,925.4471621437972,1685.8426064060427,940.7618974267766,1728.383537747652,961.181544470749,1769.222831835597,971.3913679927352,1803.2555769088842,978.1979170073928,1850.9014200114866,978.1979170073928],x:1530.993616322585,y:654.8868388111624,w:319.9078036889016,h:323.31107819623026},{type:'poly',data:{type:'bunting'},content:[1170.2465185457386,860.7849465045513,1194.06944009704,886.3095053095167,1221.2956361556699,910.132426860818,1248.5218322142996,922.0438876364685,1289.3611263022447,927.1487993974615,1318.288959614539,927.1487993974615,1350.620067434162,927.1487993974615,1379.5479007464562,927.1487993974615,1408.4757340587505,916.9389758754753,1435.7019301173805,903.3258778461604,1462.9281261760102,888.0111425631811,1488.4526849809758,872.6964072802018,1510.5739692786126,848.8734857289006,1530.993616322585,816.5423779092775,1542.9050770982358,787.6145445969833,1554.8165378738863,758.686711284689,1566.7279986495369,733.1621524797235,1568.4296359032012,704.2343191674292,1571.83291041053,675.306485855135],x:1170.2465185457386,y:675.306485855135,w:401.5863918647915,h:251.84231354232668},{type:'poly',data:{type:'bunting'},content:[857.1452638714946,653.1852015574981,887.0302681389752,674.7747242133648,913.2992932424188,692.3228583917785,947.3320383157063,702.5326819137648,976.2598716280006,702.5326819137648,1008.5909794476236,699.129407406436,1035.8171755062535,690.6212211381142],x:857.1452638714946,y:653.1852015574981,w:178.67191163475889,h:49.347480356266715},{type:'point',data:{type:'building'},x:1516.9065355933726,y:1036.6254302491961,w:0,h:0},{type:'point',data:{type:'building',place:'fore'},x:1620.4753431353824,y:1022.9147283320494,w:0,h:0},{type:'point',data:{type:'building'},x:1694.091448802438,y:1024.0472838038502,w:0,h:0},{type:'point',data:{type:'building'},x:1193.501930266461,y:1017.251950973045,w:0,h:0},{type:'point',data:{type:'start'},x:1026.0496213752763,y:577.2211452852687,w:0,h:0},{type:'point',data:{type:'cable',state:'reactor',volt:460},x:1066.5032020910744,y:524.4556052211839,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:1696.2808964261126,y:852.7247436105844,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:1371.6384364804967,y:842.9365287378516,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:1608.1869625715308,y:782.5758703560016,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:1741.959232498874,y:909.8226637015233,w:0,h:0},{type:'point',data:{type:'ugly_fish'},x:1510.3048138442064,y:937.5559391742652,w:0,h:0},{type:'point',data:{type:'shrimp'},x:1278.6503951895386,y:909.8226637015233,w:0,h:0},{type:'point',data:{type:'shark'},x:1797.4257834443579,y:810.3091458287436,w:0,h:0}]
            }
        }
        this.level = 0

        this.levelOrder = [
            'reactor', 'level2', 'level3', 'level4', 'level5', 'level6', 'city']
    }

    formatAll() {
        this.formatLevel('reactor', true)
        this.formatLevel('level2', true)
        this.formatLevel('level3', true)
        this.formatLevel('level4', true)
        this.formatLevel('level5', true)
        this.formatLevel('level6', true)
        this.formatLevel('city', true)

        this.formatLevel(game.level)
    }

    shapeToCells(shape, func = pos => {}) {
        // Get box around the shape
        const contain = {}
        contain.x = Math.floor(shape.x / this.cellSize)
        contain.y = Math.floor(shape.y / this.cellSize)
        contain.w = Math.floor((shape.x + shape.w) / this.cellSize) - contain.x
        contain.h = Math.floor((shape.y + shape.h) / this.cellSize) - contain.y

        if (shape.applications) {
            for (let i = 0; i < shape.applications.length; i ++) {
                const idx = shape.applications[i]

                if (!this.levels[game.level].both[idx])
                    this.levels[game.level].both[idx] = []
                if (!this.levels[game.level][shape.position.state][idx])
                    this.levels[game.level][shape.position.state][idx] = []

                const both = this.levels[game.level].both[idx]
                const layer = this.levels[game.level][shape.position.state][idx]

                const bothIdx = both.indexOf(shape)
                if (bothIdx > 0) both.splice(bothIdx, 1)

                const layerIdx = layer.indexOf(shape)
                if (layerIdx > 0) layer.splice(layerIdx, 1)
            }
        }

        shape.applications = []

        // Don't reassign to cells if deleted
        if (shape.removeMe) return

        // Add object positions
        for (let x = 0; x < contain.w + 1; x ++) {
            for (let y = 0; y < contain.h + 1; y ++) {
                const pos = posToIndex(contain.x + x, contain.y + y, this.levels[game.level].sortWidth)

                // Do not add outside of map
                if (pos == undefined || pos < 0) continue

                // Create arrays
                if (!this.levels[game.level].back[pos]) this.levels[game.level].back[pos] = []
                if (!this.levels[game.level].fore[pos]) this.levels[game.level].fore[pos] = []
                if (!this.levels[game.level].both[pos]) this.levels[game.level].both[pos] = []

                // Assign shapes
                this.levels[game.level].both[pos].push(shape)
                if (shape.position.state == 'fore') this.levels[game.level].fore[pos].push(shape)
                else if (shape.position.state == 'back') this.levels[game.level].back[pos].push(shape)

                shape.applications.push(pos)

                // Update actors
                func(pos)
            }
        }
    }

    nextLevel() {
        game.fadeDir = 1
        if (game.fade >= 1) {
            game.fade = 1

            game.displayingText = true
            game.displayTextTime = 0
            game.fadeDir = 0

            this.level ++
            game.level = this.levelOrder[this.level]
            this.formatLevel(game.level)
        }
    }

    formatLevel(level, first = false) {
        const scale = this.levels[level].scale

        this.levels[level].sortWidth = Math.ceil((this.levels[game.level].width * scale) / this.cellSize)
        this.levels[level].back = []
        this.levels[level].fore = []
        this.levels[level].both = []

        // Reset game states
        hero.empty()
        game.particles = []
        game.substations = []
        game.completed = false
        game.cableGoal = 0
        game.lastStationActivated = 0
        game.evil = false
        game.cam.capY = 0
        game.cam.goal = hero

        this.level = this.levelOrder.indexOf(level)

        for (let j = 0; j < this.levels[level].original.length; j ++) {
            const shape = this.levels[level].original[j]

            if (first) {
                if (shape.content) {
                    for (let i = 0; i < shape.content.length; i += 2) {
                        shape.content[i] *= scale
                        shape.content[i+1] *= scale
                    }
                }
                if (shape.x) shape.x *= scale
                if (shape.y) shape.y *= scale
                if (shape.w) shape.w *= scale
                if (shape.h) shape.h *= scale

                // For cable goals
                if (shape.data.height)
                    shape.data.height *= scale
            }

            if (shape.data.type == 'water') shape.position = {state: 'back', status: 'far-back'}
            else shape.position = {state: 'fore', status: 'fore'}

            // --- Init ---
            if (shape.data.type == 'start') {
                hero.x = shape.x
                hero.y = shape.y
            }

            // --- Actors ---
            if (shape.data.type == 'barrier') {
                this.shapeToCells(new Barrier(shape))
                continue
            }
            if (shape.data.type == 'cable') {
                const item = new Cable(shape)
                this.shapeToCells(item)
                game.mainCable = item
                continue
            }
            if (shape.data.type == 'power') {
                this.shapeToCells(new Power(shape))
                continue
            }
            if (shape.data.type == 'ugly_fish') {
                this.shapeToCells(new UglyFish(shape))
                continue
            }
            if (shape.data.type == 'shark') {
                this.shapeToCells(new Shark(shape))
                continue
            }
            if (shape.data.type == 'shrimp') {
                this.shapeToCells(new Shrimp(shape))
                continue
            }
            if (shape.data.type == 'resistor') {
                this.shapeToCells(new Resistor(shape))
                continue
            }

            // --- Scenery ---
            if (shape.data.type == 'deco') {
                shape.position = {state: 'back', status: 'far-back'}
                this.shapeToCells(shape)
                continue
            }
            if (shape.data.type == 'water') {
                this.shapeToCells(shape)
                continue
            }
            if (shape.data.type == 'ground') {
                if (shape.data.pos == 'back')
                    shape.position = {state: 'back', status: 'far-fore'}
                this.shapeToCells(shape)
                continue
            }

            if (shape.data.type == 'text') {
                shape.position = {state: 'back', status: 'far-fore'}
                if (shape.data.place == 'fore')
                    shape.position = {state: 'fore', status: 'fore'}
                this.shapeToCells(shape)
                continue
            }

            if (shape.data.type == 'building') {
                if (shape.data.place == 'fore')
                    shape.position = {state: 'fore'}
                else shape.position = {state: 'back', status: 'back'}
                shape.h = 600 + Math.sin(shape.x) * 200
                shape.y -= shape.h / 2
                this.shapeToCells(shape)
                continue
            }

            if (shape.data.type == 'giant_plug') {
                this.shapeToCells(new GiantPlug(shape))
                continue
            }

            if (shape.data.type == 'bunting') {
                shape.position = {state:'back',status:'far-fore'}
                this.shapeToCells(shape)
                continue
            }

            // The thing that the cables aim for
            if (shape.data.type == 'goal') {
                game.cableGoal = shape
                continue
            }
        }
    }
}